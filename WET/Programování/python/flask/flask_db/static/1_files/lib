var FoxentryConfigurator,FOXENTRY_PROJECT,FOXENTRY_API_DOMAIN="https://api.foxentry.cz",FOXENTRY_APP_URL="https://app.foxentry.com",FOXENTRY_CDN_URL="https://cdn.foxentry.cz",FoxentryMsgs={emailNoValidFormat:{title:"Emailová adresa nemá správný formát.",desc:"Zadejte emailovou adresou v tvaru neco@neco.cz"}},FoxentryConfig={},FoxentryElements=[],FoxentryDebug=!1,FoxentryBase=function(e){this.hinting=!1,this.ajaxRequest=null,this.RESULTS={},this.USING_HINT=!1,this.AUTO_VALIDATED=!1,this.hinterId=-1*(Math.floor(Math.random()*(1-899e9))+1),this.hintsHolderVisible=!1,this.usedHint=!1,this.appUrl="https://app.foxentry.cz",this.cdnUrl="https://cdn.foxentry.cz",this.timeouts={};var y=FOXENTRY_API_DOMAIN+"/v1/",g=20250113.2125,t=!1,m=!1,n={},h=this,r={},i=["address","company","email","name","phone"];function o(e,t){t=t?"&customConfig="+t:"";var n=document.createElement("script");n.type="text/javascript",n.defer=!0,n.async=!0,n.src=FOXENTRY_API_DOMAIN+"/load/"+e+"?host="+window.location.host+t,setTimeout(function(e){document.body.appendChild(e)},100,n)}function a(e){FoxentryConfig=e}function s(e,t,n){var r,o,i,a,s=document.querySelectorAll(".foxentry-input, .foxentry-output, input[data-foxentry-element]"),l=[];for(t=function(e){var t,n=[];for(t in e)n.push(e[t]);return n}(t),a=0;a<s.length;a++)o=(r=s[a]).getAttribute("data-foxentry-"+e+"-datatype"),i=r.getAttribute("data-foxentry-"+e+"-index"),(-1<t.indexOf(o)||t.length<1)&&(void 0!==n&&n!=i||l.push(r));return l}function p(e,t){var n,r=D(e,"form");r&&!r.classList.contains("foxentry-form")&&(n=r,!0===ut(e=t)||void 0===e?n.classList.add("foxentry-form"):n.classList.remove("foxentry-form"),r=r,t=t,Xe()&&console.warn("setFormOnSubmitEvent",r,t),t?r.addEventListener("submit",P):r.removeEventListener("submit",P))}function l(e){var t=e.match(/\[\d+\]/);return t&&e.substr(-1*t[0].length)===t[0]?(e=e.replace(t[0],""),t=t[0].replace("[","").replace("]","")-1,document.querySelectorAll(e)[t]):document.querySelector(e)}function u(e){return d(e)}function d(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,e=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+e+t.height,left:t.left+n,width:t.width,height:t.width}}function c(e,t){var n=t.getAttribute("data-foxentry-element"),r=t.getAttribute("data-foxentry-"+e+"-datatype"),o=t.getAttribute("data-foxentry-"+e+"-index"),i=document.querySelectorAll(".foxentry-results-"+n),a=u(t);return t===document.activeElement&&(i.length<1?(t=2===ct()?h.whisper.buildHtml():'<div class="foxentry-hints-holder foxentry-whisper-items-holder foxentry-hints-holder-new foxentry-lined"><div class="foxentry-hints-holder-inner"></div></div>',document.body.insertAdjacentHTML("beforeend",t),(i=document.querySelector(".foxentry-hints-holder-new")).classList.remove("foxentry-hints-holder-new"),i.classList.add("foxentry-hints-holder-"+e),i.classList.add("foxentry-results-"+n),"zip"!==r&&h.whisper.displayAdBox()&&i.classList.add("foxentry-showBanner"),i.setAttribute("data-element-code",n),i.setAttribute("data-input-datatype",r),i.setAttribute("data-input-index",o),i.setAttribute("data-element-code",n)):i=i[0],i.style.left=a.left+"px",i.style.top=a.top+"px",i.style.minWidth=a.width+"px",!0)}function v(e){void 0===e&&(e=10);for(var t="";t.length<e;t+=Math.random().toString(36).substr(2));return t.substr(0,e)}function x(e){!0===e?(w(!0),b(!0),function(){var e,t,n=document.querySelectorAll("form");for(e=0;e<n.length;e++)"BODY"!==(t=be(t=n[e])).tagName&&!1===t.classList.contains("foxentry-scroller")&&(t.addEventListener("scroll",he),t.classList.add("foxentry-scroller"))}(),(T=new MutationObserver(function(e){e.forEach(function(e){var t;if("style"!==e.attributeName&&"class"!==e.attributeName||(e.target.classList.contains("foxentry-input")||e.target.querySelector(".foxentry-input"))&&setTimeout(function(e){R(e)?k(e,"none"):k(e,"block")},20,e.target),0<e.addedNodes.length&&(0<(t=e.target.querySelectorAll("input:not(.foxentry-input):not(.foxentry-output):not([type=hidden]):not([type=submit]):not([type=checkbox]):not([type=radio]):not([disabled]), select:not(.foxentry-input):not(.foxentry-output):not([disabled])")).length&&S(t)),0<e.removedNodes.length)for(var n,r=0;r<e.removedNodes.length;r++)(n=e.removedNodes[r]).classList&&(n.classList.contains("foxentry-input")?N([n]):n.querySelector(".foxentry-input")&&N(n.querySelectorAll(".foxentry-input")));setTimeout(he)})})).observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(w(!1),b(!1),null!==T&&T.disconnect())}function b(e){e?document.querySelector("body").addEventListener("click",z):document.querySelector("body").removeEventListener("click",z)}h.inputingSessions=r,"string"==typeof e?o(FOXENTRY_PROJECT=e):a(e),h.projectHasReachedPlanLimit=function(e,t){if("plan"!==FoxentryBillingType)return!1;if(FoxentryRequestsUsageData.overlimitAllowed)return!1;if(FoxentryRequestsUsageData.requestsInLimitLeft.hasOwnProperty(e)){if("addressSearch"===e||"companySearch"===e){if(!FoxentryBillingPlanFree)return!1;if(void 0!==t)return FoxentryRequestsUsageData.requestsInLimitLeft[t]<=0}return FoxentryRequestsUsageData.requestsInLimitLeft[e]<=0}return!1},h.getOutputs=function(e,t,n){for(var r,o,i,a=document.querySelectorAll(".foxentry-output"),s=[],l=0;l<a.length;l++)o=(r=a[l]).getAttribute("data-foxentry-"+e+"-datatype"),i=r.getAttribute("data-foxentry-"+e+"-index"),-1<n.indexOf(o)&&("undefined"!=typeof index&&index!=i||s.push(r));return s},h.getElementsByType=s,h.resetInputsValidationResultVisual=function(e,t){for(var n,r=s(e,[],t),o=0;o<r.length;o++)n=r[o],h.removeInputMsg(n),h.clearInputMarkings(n)},h.clearOutputsValues=function(e,t){for(var n,r=FoxentryConfig[e].data[t].mappings.outputs,o=0;o<r.length;o++)(n=me(r[o].elementCode))&&!1===n.classList.contains("foxentry-input")&&Ee(n,"")},h.getInputsValues=function(e,t){for(var n,r={},o=0;o<t.length;o++)r[n=t[o].getAttribute("data-foxentry-"+e+"-datatype")]=("country"==n?U:Ae)(t[o]);return r},h.getInputForm=function(e){return D(e,"form")},h.getInputValidatorType=function(e){return e.hasAttribute("data-foxentry-email-datatype")?"email":e.hasAttribute("data-foxentry-phone-datatype")?"phone":e.hasAttribute("data-foxentry-name-datatype")?"name":e.hasAttribute("data-foxentry-address-datatype")?"address":e.hasAttribute("data-foxentry-company-datatype")?"company":null},window.onresize=function(e){he()},window.onscroll=function(e){he()},window.ontouchmove=function(e){he()},h.queryElement=l,h.calculateHintsHolderPosition=u,h.getRect=d,h.createHintHolder=c,h.getRandomString=v;function w(e){var t,n,r,o;for(r in FoxentryConfig)if(!(i.indexOf(r)<0))for(o=FoxentryConfig[r],t=0;t<o.data.length;t++)!1!==(n=o.data[t]).hasOwnProperty("mappings")&&(dt(n)||(!0===e?A:function(e,t,n){var r,o;for(r=0;r<n.inputs.length;r++)o=n.inputs[r],L(e,t,"input",o,!1);for(r=0;r<n.outputs.length;r++)o=n.outputs[r],L(e,t,"output",o,!1)})(r,t,n.mappings))}function C(e){return e instanceof Element||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement}function A(e,t,n,r){for(var o,i,a=0;a<n.inputs.length;a++)if(C(i=l((o=n.inputs[a]).selector))){if("object"==typeof r){if(i.classList.contains("foxentry-init"))continue;if(!F(r,FoxentryElements[o.elementCode].element=i))continue}"phone"==e&&"phonePrefix"==o.dataType&&h.phoneValidator.getPrefixSelectHtml(),L(e,t,"input",o,!0)}for(a=0;a<n.outputs.length;a++){if(o=n.outputs[a],"object"==typeof r){if(!C(i=l(o.selector)))continue;if(!F(r,FoxentryElements[o.elementCode].element=i))continue}L(e,t,"output",o,!0)}}function E(e,t){var n=FoxentryConfig.options.hasOwnProperty("shoptetValidationFixActivate")&&!!FoxentryConfig.options.shoptetValidationFixActivate;if("undefined"!=typeof shoptet&&n&&e.classList.contains("js-validate"))if(!0===t){e.classList.add("js-validation-suspended"),e.classList.remove("js-error-field");var t=e.parentElement.closest(".js-validated-element-wrapper"),r=t?t.querySelectorAll(".js-validator-msg"):[];for(let e=0;e<r.length;e++)r[e].remove()}else e.classList.remove("js-validation-suspended"),e.classList.add("foxentry-triggering-events"),Se(e,"change"),e.classList.remove("foxentry-triggering-events")}function L(e,t,n,r,o){var i,a,s,l,u,d,c=FoxentryElements[r.elementCode].element;o=!0===o,C(c)&&(ot()||(!1===o&&(N([c]),$e(c)),i=t,a=e,s=n,u=o,d=FoxentryElements[(l=r).elementCode].element,t=l.dataType,C(d)&&(1==u?(O(d,["foxentry-init","foxentry-"+s,"foxentry-input-"+a,"foxentry-input-"+a+"-"+t],!0),d.setAttribute("data-foxentry-"+a+"-datatype",t),d.setAttribute("data-foxentry-"+a+"-index",i),d.setAttribute("data-foxentry-element",l.elementCode),"input"===s&&("experimental"===FoxentryConfig.options.browserAutocomplete?(d.setAttribute("readonly",!0),d.classList.add("foxentry-readonly")):ut(FoxentryConfig.options.browserAutocomplete)?function(e,t,n){var r=et()&&!tt()?"foxentry":"off";"name"==t?"name"==n?r="given-name":"surname"==n?r="family-name":"nameSurname"==n&&(r="name"):"email"==t?r="email":"company"==t?"name"==n?r="organization":"address.streetWithNumber"==n?r="street-address":"address.street"==n?r="address-line1":"address.streetNumber"==n?r="address-line2":"address.city"==n?r="address-level2":"address.zip"==n?r="postal-code":"address.country"==n&&(r="country"):"address"==t?("streetWithNumber"==n&&(r="street-address"),"street"==n&&(r="address-line1"),"streetNumber"==n&&(r="address-line2"),"city"==n&&(r="address-level2"),"zip"==n&&(r="postal-code"),"country"==n&&(r="country")):"phone"==t&&("phonePrefix"==n?r="tel-country-code":"phoneNumber"==n?r="tel-national":"phone"==n&&(r="tel")),e.setAttribute("autocomplete",r)}(d,a,t):et()&&!tt()?d.setAttribute("autocomplete","foxentry"):d.setAttribute("autocomplete","off")),p(d,!0)):(O(d,["foxentry-init","foxentry-"+s,"foxentry-input-"+a,"foxentry-input-"+a+"-"+t],!1),d.removeAttribute("data-foxentry-"+a+"-datatype"),d.removeAttribute("data-foxentry-"+a+"-index"),d.removeAttribute("data-foxentry-prev-value"),d.removeAttribute("data-foxentry-element"),"input"==s&&!1===ut(FoxentryConfig.options.browserAutocomplete)&&d.setAttribute("autocomplete",""),p(d,!1))),"input"==n&&(n=c,!0===o?(n.addEventListener("focusin",qe),n.addEventListener("focusout",ke),n.addEventListener("change",Te),n.addEventListener("keyup",Pe),n.addEventListener("keydown",Ie),n.addEventListener("mouseover",He),n.addEventListener("mouseout",Re)):(n.removeEventListener("focusin",qe),n.removeEventListener("focusout",ke),n.removeEventListener("change",Te),n.removeEventListener("keyup",Pe),n.removeEventListener("keydown",Ie),n.removeEventListener("mouseover",He),n.removeEventListener("mouseout",Re)),"address"==e?("zip"===r.dataType&&E(c,o),h.addressValidator.initInputEvents(c,o)):"company"==e?h.companyValidator.initInputEvents(c,o):"email"==e?h.emailValidator.initInputEvents(c,o):"name"==e?h.nameValidator.initInputEvents(c,o):"phone"==e&&(E(c,o),h.phoneValidator.initInputEvents(c,o)))))}function O(e,t,n){for(var r=0;r<t.length;r++)!1===n?e.classList.remove(t[r]):e.classList.add(t[r])}function S(e){var t,n,r,o;for(r in FoxentryConfig)if(!(i.indexOf(r)<0))for(o=FoxentryConfig[r],t=0;t<o.data.length;t++)!1!==(n=o.data[t]).hasOwnProperty("mappings")&&(dt(n)||A(r,t,n.mappings,e))}function F(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r]===t){n=!0;break}return n}h.isHTMLInputElement=C,h.disableShoptetValidation=E,h.initElementsOnFly=S;var T=null;function V(){return 0<document.querySelectorAll(".foxentry-email-domain-hint").length}function I(){return 0<document.querySelectorAll(".foxentry-whisper-items-holder.foxentry-visible").length}function P(e){var t=(e=e||window.event).target;Xe()&&console.warn("onFormSubmit",t,I(),V()),(I()||V())&&e.preventDefault()}function q(e){Be(me((e=e||window.event).target.getAttribute("data-element-code")))}function N(e){for(var t,n,r,o,i=0;i<e.length;i++)r=e[i],document.body.contains(r)||(o=r.getAttribute("data-foxentry-element"),t=document.querySelector(".foxentry-input-icon-"+o),n=document.querySelector(".foxentry-input-msg-"+o),r=document.querySelector(".foxentry-simple-hint-"+o),o=document.querySelector(".foxentry-results-"+o),t&&t.parentElement.removeChild(t),n&&n.parentElement.removeChild(n),r&&r.parentElement.removeChild(r),o&&o.parentElement.removeChild(o))}function k(e,t){var n,r,o,i,a;for(n=e.classList.contains("foxentry-input")?[e]:e.querySelectorAll(".foxentry-input"),r=0;r<n.length;r++)a=n[r].getAttribute("data-foxentry-element"),o=document.querySelector(".foxentry-input-icon-"+a),i=document.querySelector(".foxentry-input-msg-"+a),a=document.querySelector(".foxentry-simple-hint-"+a),o&&(o.style.display=t),i&&(i.style.display=t),a&&(a.style.display=t)}function H(e,t,n){e.getAttribute("id")&&(e=e.getAttribute("id"),(e=document.querySelector('label[for="'+e+'"]'))&&("add"==n?e.classList.add(t):"remove"==n&&e.classList.remove(t)))}function R(e,t){void 0===t&&(t=!0);var n=window.getComputedStyle(e);return"none"==n.display||"hidden"==n.visibility||"none"!==n.display&&0===parseFloat(n.opacity)||!(!0!==t||!function(e){var t;for(;e.parentNode&&(e=e.parentNode)instanceof Element!=!1;)if(R(e,!1)){t=e;break}return t}(e))}function M(e,t){for(var n=null;e.parentNode;)if(e=e.parentNode,void 0!==e&&e!==window.document&&e.classList.contains(t)){n=e;break}return n}function D(e,t){for(var n,t=t.toUpperCase();e.parentNode;)if((e=e.parentNode).tagName===t){n=e;break}return n}h.isHintsHolderVisible=I,h.handleValidationsCount=function(e,t){return t=e+"_"+t,!1===n.hasOwnProperty(t)?n[t]=1:n[t]++,n[t]},h.clearInputs=function(e){for(var t=0;t<e.length;t++)ie(e[t]),N(e[t]),e[t].setAttribute("data-foxentry-validated-value","")},h.inputLabelClass=H,h.inputValueClearedByUser=function(e){return""===Ae(e)&&""!==e.getAttribute("data-foxentry-prev-value")&&null!==e.getAttribute("data-foxentry-prev-value")},h.isHiddenElement=R,h.getParent=M;var j,B,_,W={cz:["česká republika","česko","esk republika","esko","Czech Republic","Czechia","czech republic"],sk:["slovenská republika","slovensko","slovensk republika","Slovak Republic","Slovakia","slovakia"]};function U(e){var t,n=Ae(e).toLowerCase(),r=n;if(n in W)r=n;else{if("SELECT"===e.tagName){var o=function(e){for(var t=null,n=e.querySelectorAll("option"),r=0;r<n.length;r++)if(n[r].selected){n[r].hasAttribute("data-country-code")&&(t=n[r].getAttribute("data-country-code").toLowerCase());break}return t}(e);if(o)return o}if(n="SELECT"===e.tagName?function(e){for(var t=null,n=e.querySelectorAll("option"),r=0;r<n.length;r++)if(n[r].selected){t=n[r].innerText.trim();break}return t}(e):n)for(t in n=n.replace(/[^\x00-\x7F]/g,""),W)if(W.hasOwnProperty(t)&&-1<W[t].indexOf(n.toLowerCase())){r=t;break}}return r}function J(e,t){var n=Ae(e),r=e.querySelector('[value="'+t+'"]');if(r)Ee(e,t);else if(e.querySelector('[value="'+t.toUpperCase()+'"]'))Ee(e,t.toUpperCase());else for(var o,i=e.querySelectorAll("option"),a=0;a<i.length;a++)if(i[a].hasAttribute("data-country-code"))i[a].getAttribute("data-country-code").toLowerCase()==t&&Ee(e,i[a].getAttribute("value"));else if(i[a].hasAttribute("data-code"))i[a].getAttribute("data-code").toLowerCase()==t&&Ee(e,i[a].getAttribute("value"));else if(o=i[a].innerText.trim(),W.hasOwnProperty(t)&&(-1<W[t].indexOf(o)||-1<W[t].indexOf(o.toLowerCase()))){Ee(e,i[a].getAttribute("value"));break}n!==Ae(e)&&ee(e),"object"==typeof shoptet&&e.disabled&&(null===e.nextElementSibling?(Ee(n=document.querySelector('input[type=hidden][name="'+e.name+'"]'),Ae(e)),n.disabled=!1):"input"==e.nextElementSibling.tagName.toLowerCase()&&"hidden"==e.nextElementSibling.type&&e.nextElementSibling.name==e.name&&(Ee(e.nextElementSibling,Ae(e)),e.nextElementSibling.disabled=!1))}function z(e){var t=(e=e||window.event).target,n=Y(t,"foxentry-whisper-item"),r=(Y(t,"foxentry-input-msg"),document.querySelector(".foxentry-input-msg")),o=t.classList.contains("foxentry-input-phonePrefix"),e="submit"===t.getAttribute("type");!1!==t.classList.contains("foxentry-whisper-item")||n||o||e||Q(t),null!==r&&(r.getAttribute("data-msg-created"),new Date)}function X(e,t){for(var n=[],r=FoxentryConfig[e].data[t].mappings.outputs,o=0;o<r.length;o++)n.push(r[o].dataType);return n}function Y(e,t){do{if(e.classList&&e.classList.contains(t))return!0}while(e=e.parentNode);return!1}function G(e){var t,n;e.getAttribute("data-foxentry-address-datatype"),e.getAttribute("data-foxentry-address-datatype"),e.getAttribute("data-foxentry-address-datatype"),e.getAttribute("data-foxentry-address-datatype"),e.getAttribute("data-foxentry-phone-datatype");for(t in i)if(n=e.getAttribute("data-foxentry-"+i[t]+"-datatype"))return n;return null}function K(e){return e.getAttribute("data-foxentry-element")}function Q(e){var t,n;n=e.classList.contains("foxentry-input")?(t=G(e),e=K(e),"phonePrefix"==t?document.querySelector(".foxentry-results-phonePrefix"):document.querySelector(".foxentry-results-"+e)):null;var r,o,i=document.querySelectorAll(".foxentry-whisper-items-holder,.foxentry-hints-holder");if(0<i.length)for(o=0;o<i.length;o++)(r=i[o])===n&&n||(2===ct()&&r.classList.contains("foxentry-whisper-items-holder")?h.whisper.hide(r):(r.classList.remove("foxentry-visible"),r.classList.remove("foxentry-active")));h.hintsHolderVisible=!1}function Z(e,t){var n="";if(e.hasOwnProperty(t))n=e[t];else if(!e.hasOwnProperty("streetNumber")||"string"!=typeof e.streetNumber||"streetNumber.number1"!==t&&"streetNumber.number2"!==t){if(0<t.indexOf("."))for(var r=t.split("."),n=e,o=0;o<r.length;o++)n=n[r[o]]||""}else n=e.streetNumber;return n}function $(e,t,n,r){for(var o,i=0;i<t.length;i++){var a,s,l=(o=t[i]).hasOwnProperty("dataTypeOut")?o.dataTypeOut:o.dataType;"company"==e&&"nameNumber"==l&&(l="name"),"addressStreet"==(l="company"==e&&"address.streetNumber"==l?"address.streetNumber.full":l)&&(l="address.street"),void 0!==r&&r.indexOf(l)<0||C(s=FoxentryElements[o.elementCode].element)&&(a=Ae(s),"phonePrefix"==l&&"INPUT"!==s.tagName||("object"==typeof(o=(o="")==(o=n.hasOwnProperty("formatted")?Z(n.formatted,l):o)?Z(n,l):o)&&("streetNumber"==l?o=o.full:"country"==l&&(o=o.code)),""==o&&"country"==l||(""==o&&"streetNumber"==l&&n.hasOwnProperty("number")&&(o=n.number),"country"!=l||"SELECT"!=s.tagName||void 0===o?s&&("nameNumber"==l&&(l="name"),"INPUT"==s.tagName||"TEXTAREA"==s.tagName||"SELECT"==s.tagName?("checkbox"===s.getAttribute("type")?s.checked=ut(o):Ee(s,o),s.setAttribute("data-foxentry-validated-value",o),Se(s,"blur"),a!==o&&ee(s)):s.innerHTML=o):J(s,o))))}}function ee(e){if(FoxentryConfig.options.hasOwnProperty("triggerInputEventsOnFill")&&"object"==typeof FoxentryConfig.options.triggerInputEventsOnFill){for(var t in e.classList.add("foxentry-triggering-events"),FoxentryConfig.options.triggerInputEventsOnFill)Se(e,FoxentryConfig.options.triggerInputEventsOnFill[t]);e.classList.remove("foxentry-triggering-events")}}function te(e){for(var t=document.querySelectorAll("input, textarea"),n=[],r=0;r<t.length;r++)for(var o=0;o<e.length;o++)e[o]==t[r]&&n.push(e[o]);var i=n[n.length-1];return void 0===i?null:i}function ne(e,t){if(!0===t){t=D(e,"FORM");if(!t)return!1;var n=t.querySelectorAll("input")}else n=document.querySelectorAll("input");for(var r,o,i,a=!1,s=!1,l=0;l<n.length;l++)if("checkbox"!=(i=n[l]).getAttribute("type")&&"hidden"!=i.getAttribute("type")){if(s){if(i.hasAttribute("disabled")&&("disabled"==i.getAttribute("disabled")||""==i.getAttribute("disabled")))continue;if(r=Ge(e),(o=Ge(i)).length<1){a=i;break}if(r[0].type!==o[0].type){a=i;break}}i===e&&(s=!0)}return a}function re(e){try{return JSON.parse(e)}catch(e){return!1}return!1}function oe(e,t){void 0===t&&(t=Ge(e)[0].type);e=e.getAttribute("data-foxentry-"+t+"-index");return FoxentryConfig[t].data[e].options}function ie(e){var t=e.getAttribute("data-foxentry-element");O(e,["foxentry-input-valid","foxentry-input-invalid","foxentry-input-warning","foxentry-input-loading","foxentry-input-with-hint","foxentry-input-failure"],!1),H(e,"foxentry-label-input-valid","remove"),H(e,"foxentry-label-input-invalid","remove"),H(e,"foxentry-label-input-warning","remove"),H(e,"foxentry-label-input-with-hint","remove"),H(e,"foxentry-label-failure","remove");t=document.querySelector(".foxentry-input-icon-"+t);t&&(t.outerHTML="")}function ae(e,t,n){if(pt())return!1;if(ut(FoxentryConfig.options.customValidationHandlers))return!1;var r=oe(e,n).validationVisualShowtype;return ie(e),"SELECT"!=e.tagName&&((""!==e.value||"company"!==n||!e.classList.contains("foxentry-input-address"))&&("none"!==r&&("onlyvalid"!==r||"invalid"!=t&&"error"!=t&&"warning"!=t)&&void("valid"==t?se(e):"invalid"==t||"error"==t?le(e):"warning"==t?de(e):"loading"==t?ye(e):"failure"==t?ue(e):"hint"==t&&ce(e))))}function se(e){ie(e),H(e,"foxentry-label-input-valid","add"),e.classList.add("foxentry-input-valid"),pe(e,"valid")}function le(e){ie(e),H(e,"foxentry-label-input-invalid","add"),e.classList.add("foxentry-input-invalid"),pe(e,"invalid")}function ue(e){ie(e),H(e,"foxentry-label-input-failure","add"),e.classList.add("foxentry-input-failure")}function de(e){ie(e),H(e,"foxentry-label-input-warning","add"),e.classList.add("foxentry-input-warning"),pe(e,"warning")}function ce(e){ie(e),H(e,"foxentry-label-input-with-hint","add"),e.classList.add("foxentry-input-with-hint")}function pe(e,t){var n,r=we(e),o=e.getAttribute("data-foxentry-element"),i='<div class="foxentry-input-icon foxentry-input-icon-'+t+" foxentry-input-icon-"+o+'" data-element-code="'+o+'"></div>',a=!0;FoxentryConfig.hasOwnProperty("options")&&FoxentryConfig.options.hasOwnProperty("inputIconBodyEndPosition")&&!0===ut(FoxentryConfig.options.inputIconBodyEndPosition)&&(a=!1,document.body.insertAdjacentHTML("beforeEnd",i),n=document.querySelector(".foxentry-input-icon-"+o),t=r.l+r.w-n.offsetWidth,n.style.height=r.h+"px",n.style.left=t+"px",n.style.top=r.t+r.s+"px"),a&&(e.insertAdjacentHTML("afterEnd",i),n=document.querySelector(".foxentry-input-icon-"+o),fe(e)),R(e)&&(n.style.display="none"),e="on",(n=n)&&("on"==e?n.addEventListener("mouseover",q):n.removeEventListener("mouseover",q))}function fe(e){var t,n,r=e.getAttribute("data-foxentry-element"),o=document.querySelector(".foxentry-input-icon-"+r);o&&(n=o,r=function(e){for(var t=e;t=t.parentElement;)if(style=getComputedStyle(t),"static"!==style.position)return t;return document.body}(t=e),e=t.getBoundingClientRect(),r=r.getBoundingClientRect(),n=n.getBoundingClientRect(),t=window.getComputedStyle(t),t=parseFloat(t.borderRightWidth.replace("px","")),t=e.left-r.left+e.width-n.width-t-5,r=e.top-r.top,e=e.height,e={l:t,t:r,h:e},o.style.height=e.h+"px",o.style.left=e.l+"px",o.style.top=e.t+"px")}function ye(e){ie(e),e.parentNode.classList.add("foxentry-input-loading"),pe(e,"loading")}function ge(e){if(!e)return null;e=e.getAttribute("data-foxentry-element");return document.querySelector(".foxentry-input-msg-"+e)}function me(e){return document.querySelector('[data-foxentry-element="'+e+'"]')}function he(){window.clearTimeout(_),_=setTimeout(function(){!function(){var e,t,n,r=document.querySelectorAll(".foxentry-simple-hint");for(e=0;e<r.length;e++)t=r[e],n=t.getAttribute("data-element-code"),n=we(n=FoxentryElements[n].element),t.style.top=n.t+n.h+n.s+"px",t.style.left=n.l+"px"}(),function(){if(FoxentryConfig.hasOwnProperty("options")&&FoxentryConfig.options.hasOwnProperty("inputIconBodyEndPosition")&&!0===ut(FoxentryConfig.options.inputIconBodyEndPosition))return function(){var e,t,n,r,o=document.querySelectorAll(".foxentry-input-icon");for(e=0;e<o.length;e++)t=o[e],n=t.getAttribute("data-element-code"),r=FoxentryElements[n].element,n=we(r),r=n.l+n.w-t.offsetWidth,t.style.height=n.h+"px",t.style.left=r+"px",t.style.top=n.t+n.s+"px"}();var e,t=document.querySelectorAll(".foxentry-input");for(e=0;e<t.length;e++)fe(t[e])}(),function(){var e,t,n,r,o=document.querySelectorAll(".foxentry-input-msg");for(e=0;e<o.length;e++)t=o[e],n=t.getAttribute("data-element-code"),r=FoxentryElements[n].element,n=we(r),r=n.l,t.style.left=r+"px",t.style.top=n.t+n.h+n.s+"px",t.style.width=n.w+"px"}(),function(){var e,t,n,r,o=document.querySelectorAll(".foxentry-whisper-items-holder");for(e=0;e<o.length;e++)t=o[e],null!==(n=t.getAttribute("data-element-code"))&&(r=FoxentryElements[n].element,n=we(r),r=n.l,n=n.t+n.h+n.s,t.style.left=r+"px",t.style.top=n+"px")}()},100)}function ve(e){return document.querySelector('.foxentry-whisper-items-holder[data-element-code="'+e+'"]')}function xe(e,t){e.classList.add("foxentry-animation-off");var n=we(e);t.style.top=n.t+n.h+n.s+"px",t.style.left=n.l+"px";n=t.offsetHeight,t=window.getComputedStyle(e).marginBottom;e.setAttribute("data-initial-margin-bottom",t),e.style.marginBottom=parseFloat(t.replace("px",""))+n+"px",setTimeout(function(e){e.classList.remove("foxentry-animation-off")},20,e)}function be(e,t){var n=getComputedStyle(e),r="absolute"===n.position,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return document.body;for(var i=e;i=i.parentElement;)if(n=getComputedStyle(i),(!r||"static"!==n.position)&&o.test(n.overflow+n.overflowY+n.overflowX))return i;return document.body}h.detectCountryFromSelect=U,h.fillCountrySelectElement=J,h.getValidatorOutputsDatatypes=X,h.getInputDatatype=G,h.ucfirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},h.triggerInputEventsOnFill=ee,h.fillData=function(e,t,n,r){if(pt())return!1;if(ut(FoxentryConfig.options.customValidationHandlers)&&!h.USING_HINT)return!1;if(void 0===n)return!1;var o=FoxentryConfig[e].data[t].mappings.inputs,t=FoxentryConfig[e].data[t].mappings.outputs;$(e,o,n,r),$(e,t,n,r)},h.getLastInput=te,h.getNextInput=ne,B=FOXENTRY_CDN_URL+"/css/"+(j="styles.min.css?v=2.13"),(j=document.createElement("link")).setAttribute("rel","stylesheet"),j.setAttribute("href",B),j.setAttribute("type","text/css"),document.head.appendChild(j),h.getJSON=re,h.clearInputMarkings=ie,h.markInputs=function(e,t,n){for(var r=0;r<e.length;r++)ae(e[r],t,n)},h.markInput=ae,h.markInputAsValid=se,h.markInputAsInvalid=le,h.markInputAsFailure=ue,h.markInputWithWarning=de,h.markInputWithHint=ce,h.markInputAsLoading=ye,h.setInputMsg=function(e,t,n){if(pt())return!1;if(h.removeInputMsg(e),"basic"==FoxentryConfig.options.validationResultVisual||ut(FoxentryConfig.options.customValidationHandlers))return!1;var r=oe(e).validationVisualShowtype;9==Ve&&("INPUT"==document.activeElement.tagName&&"submit"!==document.activeElement.type||"SELECT"==document.activeElement.tagName||document.activeElement.tagName);if("none"===r||"onlyvalid"===r&&("invalid"==t||"error"==t))return!1;h.eventsLogger.addEvent("inputMsg",e,{type:t,msg:n});e.getAttribute("data-foxentry-index");var r=e.getAttribute("data-foxentry-element"),t='<div class="foxentry-input-msg foxentry-input-msg-'+t+" foxentry-input-msg-"+r+'" data-element-code="'+r+'"><div class="foxentry-input-msg-inner"><div class="foxentry-input-msg-title"></div><div class="foxentry-input-msg-desc"></div></div></div>';document.body.insertAdjacentHTML("beforeEnd",t);t=document.querySelector(".foxentry-input-msg-"+r),r=we(e);return t.style.top=r.t+r.h+r.s+"px",t.style.left=r.l+"px",t.style.width=r.w+"px",R(e)&&(t.style.display="none"),n.hasOwnProperty("title")?(t.querySelector(".foxentry-input-msg-title").innerHTML=n.title,t.querySelector(".foxentry-input-msg-desc").innerHTML=n.desc):t.querySelector(".foxentry-input-msg-desc").innerHTML=n,t.setAttribute("data-msg-created",+new Date),Ue(e),t.addEventListener("mouseover",De),t.addEventListener("mouseout",je),t},h.getInputByCode=me,h.createSimpleHint=function(e){var t=e.getAttribute("data-foxentry-element"),n='<div class="foxentry-simple-hint foxentry-simple-hint-'+t+'" data-element-code="'+t+'"><div class="foxentry-simple-hint-inner"></div></div>';return document.body.insertAdjacentHTML("beforeEnd",n),t=document.querySelector(".foxentry-simple-hint-"+t),xe(e,t),t},h.setSimpleHintPosition=xe;function we(e){be(e);var t,t=(t=document.documentElement,(window.pageYOffset||t.scrollTop)-(t.clientTop||0)),e=e.getBoundingClientRect();return{w:e.width,h:e.height,l:e.left,t:e.top,s:t}}function Ce(e,t){return We(e)}function Ae(e){return void 0===e?"":!1===Object.hasOwnProperty("getOwnPropertyDescriptor")?e.value:("SELECT"===e.tagName?Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value"):"TEXTAREA"===e.tagName?Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"):Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")).get.call(e)}function Ee(e,t){if(!1===Object.hasOwnProperty("getOwnPropertyDescriptor"))return e.value=t,!1;var n;n=("SELECT"===e.tagName?Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value"):"TEXTAREA"===e.tagName?Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"):Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")).set,Ae(e)!==t&&(n.call(e,t),Se(e,"input")),FoxentryConfig.hasOwnProperty("callbacks")&&FoxentryConfig.callbacks.hasOwnProperty("inputValueSet")&&FoxentryConfig.callbacks.inputValueSet(e,t)}function Le(e){var t=e.getAttribute("data-foxentry-element");!1===FoxentryElements[t].hasOwnProperty("values")&&(FoxentryElements[t].values=[]),FoxentryElements[t].values.push(Ae(e))}function Oe(e){return Se(e,"change",!0)}function Se(e,t,n){if(void 0===n&&(n=!0),e)if("function"==typeof Event){var r=new Event(t,{bubbles:n});e.dispatchEvent(r)}else if("createEvent"in document)try{(r=document.createEvent("HTMLEvents")).initEvent(t,n,!1),e.dispatchEvent(r)}catch(e){console.error(e)}else try{"keyup"==t?e.fireEvent("onkeyup"):"keydown"==t?e.fireEvent("onkeydown"):"keypress"==t?e.fireEvent("onkeypress"):"change"==t&&e.fireEvent("onchange")}catch(e){}FoxentryDebug&&console.warn("trigger event",t,n,e)}h.getElementOffsets=we,h.removeSimpleHint=Ce,h.markMultiple=function(e,t,n){if(ut(FoxentryConfig.options.customValidationHandlers))return!1;for(var r=0;r<e.length;r++)ae(e[r],t,n)},h.getInputValue=Ae,h.setInputValue=Ee,h.updateInputValueOnAutohint=function(e,t,n){e.focus(),Ee(e,""),Ee(e,!1!==n?t+" ":t)},h.addValueToMonitor=Le,h.inputValueOccurrence=function(e,t){var e=e.getAttribute("data-foxentry-element"),n=FoxentryElements[e],r=0;if(n.hasOwnProperty("values"))for(var o=0,o=0;o<n.values.length;o++)n.values[o]===t&&r++;return r},h.triggerChange=Oe,h.triggerEvent=Se;var Fe=[];function Te(e){var t=(e=e||window.event).target,n=Ae(t);if(t.classList.contains("foxentry-triggering-events"))return!1;h.eventsLogger.addEvent("change",t,{values:{from:t.getAttribute("data-foxentry-prev-value"),to:n}});e=t.getAttribute("data-foxentry-element");""==n&&(ie(t),We(t),Ce(t)),Le(t);e=document.querySelector(".foxentry-results-"+e);e&&n!==t.getAttribute("data-foxentry-keyup")&&setTimeout(function(e){e.classList.remove("foxentry-visible")},100,e)}h.inputChangeEventProgress=function(e,t,n){return!0===n&&Fe.push(e+t),!1===n&&setTimeout(function(e,t){t=Fe.indexOf(e+t);-1<t&&Fe.splice(t,1)},100,e,t),-1<Fe.indexOf(e+t)},h.allFilled=function(e){var t,n,r=!0;for(n in e)if(t=e[n],C(t)&&""==Ae(t)){r=!1;break}return r};var Ve=null;function Ie(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;13!==e.which||(t=ve(t.getAttribute("data-foxentry-element")))&&!1===R(t)&&e.preventDefault(),Ve=e.which}function Pe(e){var t,n,r,o,i,a=(e=e||window.event).target;if(a.classList.contains("foxentry-triggering-events"))return!1;h.eventsLogger.addEvent("input",a),37<=e.which&&e.which<=40?(t=a,n=e.which,o=K(t),(i=document.querySelector(".foxentry-results-"+o))&&((r=i.querySelectorAll(".foxentry-whisper-item")).length,t=i.querySelector(".foxentry-hint-selected"),o=r[0],i=r[r.length-1],r=null,"38"==n?r=t?(t.classList.remove("foxentry-hint-selected"),t.previousSibling||i):i:"40"==n&&(r=t?(t.classList.remove("foxentry-hint-selected"),t.nextSibling||o):o),r&&r instanceof Element&&(r.classList.add("foxentry-hint-selected"),function(e){if(e instanceof Element){var t=getComputedStyle(e);if("none"!==t.display&&"visible"===t.visibility&&!(t.opacity<.1)&&e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width!==0){t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(!(t.x<0||t.x>(document.documentElement.clientWidth||window.innerWidth)||t.y<0||t.y>(document.documentElement.clientHeight||window.innerHeight))){var n=document.elementFromPoint(t.x,t.y);do{if(n===e)return 1}while(n=n.parentNode)}}}}(r)||(M(r,"foxentry-form-content").scrollTop=r.offsetTop)))):13==e.which?(r=K(o=a),(r=(r=document.querySelector(".foxentry-results-"+r))&&r.querySelector(".foxentry-hint-selected"))&&(o.classList.contains("foxentry-input-address")?h.addressValidator.useHint(r):o.classList.contains("foxentry-input-company")&&h.companyValidator.useHint(r))):9!==e.which&&a.setAttribute("data-foxentry-keyup",Ae(a))}function qe(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;"experimental"===FoxentryConfig.options.browserAutocomplete&&t.classList.contains("foxentry-readonly")&&setTimeout(function(){t.removeAttribute("readonly")},50),h.eventsLogger.addEvent("focusIn",t),e=(e=t).getAttribute("data-foxentry-element"),r.hasOwnProperty(e)||(r[e]={dateTime:Math.floor(Date.now()/1e3),code:v(30)}),Q(t),H(t,"foxentry-label-input-focused","add"),t.setAttribute("data-foxentry-prev-value",Ae(t)),Ue(t),Be(t)}h.isFoxentryReadOnly=function(e){return e.readOnly&&e.classList.contains("foxentry-readonly")};var Ne=null;function ke(e){e=(e=e||window.event).target;if(e.classList.contains("foxentry-triggering-events"))return!1;"experimental"===FoxentryConfig.options.browserAutocomplete&&e.classList.contains("foxentry-readonly")&&e.setAttribute("readonly",!0),h.eventsLogger.addEvent("focusOut",e),H(e,"foxentry-label-input-focused","remove"),_e(e)}function He(e){e=(e=e||window.event).target;if(e.classList.contains("foxentry-triggering-events"))return!1;Be(e)}function Re(e){e=(e=e||window.event).target;if(e.classList.contains("foxentry-triggering-events"))return!1;_e(e)}function Me(e){for(var t=e,n=!1;0==n&&t;){if(t.classList.contains("foxentry-input-msg")){n=!0;break}t=t.parentElement}return n?t:null}function De(e){Me(e.target).classList.add("foxentry-input-msg-hovered")}function je(e){return setTimeout(function(e){var t=Me(e),e=t.getAttribute("data-element-code");if(Ne.getAttribute("data-foxentry-element")!==e){if(null!==Me(Ne))return!1;O(t,["foxentry-input-msg-hovered","foxentry-input-msg-visible"],!1)}},10,e.target),!1}function Be(e){e=ge(e);e&&e.classList.add("foxentry-input-msg-visible")}window.onmouseover=function(e){Ne=e.target};function _e(e,t){setTimeout(function(e){e=ge(e);e&&(!t&&(Ne.classList.contains("foxentry-input-msg")||null!==M(Ne,"foxentry-input-msg"))||e.classList.remove("foxentry-input-msg-visible"))},50,e)}function We(e){e=ge(e);e&&(e.outerHTML="")}function Ue(e){var t,r,o,i,a;FoxentryConfig.options.hasOwnProperty("inputScrollEnabled")&&!1===ut(FoxentryConfig.options.inputScrollEnabled)||500<document.body.clientWidth||(t=e.getBoundingClientRect(),e=window.pageYOffset||document.documentElement.scrollTop,e=t.top+e-40,e=e,r=300,i=window.pageYOffset,a=e-i,window.requestAnimationFrame(function e(t){var n=t-(o=o||t),t=Math.min(n/r,1);window.scrollTo(0,i+a*t),n<r&&window.requestAnimationFrame(e)}))}function Je(e,t,n){var r,o,i,a={},s=FoxentryConfig[e].data[t].mappings;if(s.hasOwnProperty(n))for(r=0;r<s[n].length;r++)(o=me((i=s[n][r]).elementCode))&&("country"==i.dataType?a[i.dataType]=U(o):a[i.dataType]=Ae(o));return a}h.hideInputMsg=_e,h.removeInputMsg=We,h.removeInputMsgForInputs=function(e){for(var t=0;t<e.length;t++)We(e[t])},h.hideResultsHolder=function(e){e=e.getAttribute("data-foxentry-element"),(e=document.querySelector(".foxentry-results-"+e))instanceof Element&&(2===ct()?h.whisper.hide(e):(e.classList.remove("foxentry-visible"),e.classList.remove("foxentry-active")))},h.saveData=function(e,t){ht({type:"saveActivity",data:{type:e,data:t}})},h.getInvalidInputs=function(e,t){var n,r,o,i=FoxentryConfig[e].inputs[t],a=[];for(n in i)null!=(r=i[n])&&(o=r.input,"must"==r.validity&&o.parentNode.className.indexOf("foxentry-input-valid")<0&&a.push(o));return a},h.getValuesBeforeValidation=function(e,t){return{inputs:Je(e,t,"inputs"),outputs:Je(e,t,"outputs")}},h.getValues=Je,h.getFilledElements=function(e,t,n){var r,o,i=[],a=FoxentryConfig[e].data[t].mappings;if(a.hasOwnProperty(n))for(r=0;r<a[n].length;r++)(o=me(a[n][r].elementCode))&&""!==Ae(o)&&i.push(o);return i};var ze=[];function Xe(){return-1<window.location.href.indexOf("foxentryDeveloper")||-1<document.cookie.indexOf("foxentryDeveloper")}function Ye(e){var t,n,r={valid:!0,validWithWarnings:!1,inputs:{valid:[],invalid:[],withWarning:[]}};Xe()&&console.info("Running formValidator for form",e);for(var o=e.querySelectorAll(".foxentry-input:not(.foxentry-validator-ignore)"),i=0;i<o.length;i++){if(2===(n=Ge(t=o[i])).length)inputValidator="company"===n[0].type&&"address"===n[1].type?n[1]:n[0];else{if(n.length<1)continue;inputValidator=n[0]}!1===(n=inputValidator.data.options).hasOwnProperty("validityRequired")&&(n.validityRequired=!0),(!0===ut(n.validityRequired)&&(""==Ae(t)&&!1===t.classList.contains("foxentry-input-valid")||t.classList.contains("foxentry-input-invalid"))?r.inputs.invalid:t.classList.contains("foxentry-input-warning")?r.inputs.withWarning:r.inputs.valid).push({input:t,name:t.getAttribute("name")})}return 0<r.inputs.invalid.length&&(r.valid=!1),0<r.inputs.withWarning.length&&r.inputs.invalid.length<1&&(r.valid=!1,r.validWithWarnings=!0),function(e,t){var n,r;Ee((e=function(e){var t=e.querySelector(".foxentry-form-validation");if(!t){var n=document.createElement("div");n.classList.add("foxentry-form-validation"),n.style.display="none";var r,o=[],i=["foxentryFormValid","foxentryValidInputs","foxentryInvalidInputs","foxentryInputsWithWarnings"];for(r=0;r<i.length;r++)o.push('<input type="hidden" name="'+i[r]+'">');n.innerHTML=o.join("\n"),e.appendChild(n),t=e.querySelector(".foxentry-form-validation")}return t}(e)).querySelector('[name="foxentryFormValid"]'),t.valid);var o={valid:[],invalid:[],withWarnings:[]};for(n=0;n<t.inputs.valid.length;n++)r=t.inputs.valid[n],o.valid.push(r.input.getAttribute("name"));for(n=0;n<t.inputs.invalid.length;n++)r=t.inputs.invalid[n],o.invalid.push(r.input.getAttribute("name"));for(n=0;n<t.inputs.withWarning.length;n++)r=t.inputs.withWarning[n],o.withWarnings.push(r.input.getAttribute("name"));Ee(e.querySelector('[name="foxentryValidInputs"]'),o.valid.join(",")),Ee(e.querySelector('[name="foxentryInvalidInputs"]'),o.invalid.join(",")),Ee(e.querySelector('[name="foxentryInputsWithWarnings"]'),o.withWarnings.join(","))}(e,r),Xe()&&console.info("Foxentry formValidator result",r),r}function Ge(e){var t,n=e.hasAttribute("data-foxentry-company-datatype"),r=e.hasAttribute("data-foxentry-address-datatype"),o=e.hasAttribute("data-foxentry-name-datatype"),i=e.hasAttribute("data-foxentry-email-datatype"),a=e.hasAttribute("data-foxentry-phone-datatype"),s=[];return n&&(t=e.getAttribute("data-foxentry-company-index"),s.push({type:"company",data:FoxentryConfig.company.data[t]})),r&&(t=e.getAttribute("data-foxentry-address-index"),s.push({type:"address",data:FoxentryConfig.address.data[t]})),o&&(t=e.getAttribute("data-foxentry-name-index"),s.push({type:"name",data:FoxentryConfig.name.data[t]})),i&&(t=e.getAttribute("data-foxentry-email-index"),s.push({type:"email",data:FoxentryConfig.email.data[t]})),a&&(t=e.getAttribute("data-foxentry-phone-index"),s.push({type:"phone",data:FoxentryConfig.phone.data[t]})),s}function Ke(e,t){for(var n,r=[],o=0;o<e.length;o++)C(n=e[o])&&""!=Ae(n)&&r.push(n.getAttribute("data-foxentry-"+t+"-datatype"));return r}function Qe(e,t){c(t,e);e=e.getAttribute("data-foxentry-element");return document.querySelector(".foxentry-results-"+e)}function Ze(e){for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)t[n].outerHTML=""}function $e(e){for(var t,n=0;n<e.attributes.length;n++)"data-foxentry"==(t=e.attributes[n].nodeName).substr(0,13)&&e.removeAttribute(t)}function et(){return-1<navigator.userAgent.indexOf("Chrome/")}function tt(){return-1<navigator.userAgent.indexOf("OPR/")}function nt(){if(-1<window.location.hash.indexOf("foxentryconfig")){var e=window.location.hash.replace("/","").replace("#foxentryconfig-","");return t="foxentry-config",n=e,r=86400,o=new Date,void 0===r?o.setTime(o.getTime()+864e5):o.setTime(o.getTime()+1e3*r),r="; expires="+o.toUTCString(),document.cookie=t+"="+n+r+";domain="+window.location.host+";path=/",e}if(-1<document.cookie.indexOf("foxentry-config="))return function(){var e,t,n=document.cookie.split("; ");for(e=0;e<n.length;e++)if(t=n[e],"foxentry-config"==(t=t.split("="))[0])return t[1];return null}();var t,n,r,o}h.configurationValidator=function(){var e,t=function(){var e,t,n,r,o,i,a=[];for(e in FoxentryConfig)if("options"!=e)for(t=FoxentryConfig[e].data,r=0;r<t.length;r++)if(!1!==(n=t[r]).hasOwnProperty("mappings"))for(o=0;o<n.mappings.length;o++)i=n.mappings[o],FoxentryElements[i.elementCode].element instanceof Element==!1&&a.push({code:"INVALID_MAPPING",validatorType:e,validatorName:n.name,validatorMapping:i.dataType});return!(0<a.length)||a}();if(!0!==t)for(e=0;e<t.length;e++)t[e].validatorErrorType="mapping",ze.push(t[e]);return 0<ze.length?{valid:!1,errors:ze}:{valid:!0}},h=this,"function"==typeof FoxentryInputLabel&&(h.inputLabel=new FoxentryInputLabel(h)),h.getValidatorOptions=function(e,t){var n,r,o=FoxentryConfig[e].data[t].options,i=JSON.parse(JSON.stringify(FoxentryConfig[e].options));for(n in o)r=o[n],i[n]=r;return i.dataInclude=X(e,t),i},h.developerMode=Xe,h.formValidator=Ye,h.removeHintersOnValidationSuccess=function(e,t){for(var n,r=s(e,[],t),o=0;o<r.length;o++)(n=ve(r[o].getAttribute("data-foxentry-element")))&&(n.outerHTML="")},h.getInputsCurrentValues=function(e,t){var n,r,o,i={},a=document.querySelectorAll(".foxentry-input"),s="data-foxentry-"+e+"-datatype",l="data-foxentry-"+e+"-index";for(r in a)C(n=a[r])&&n.hasAttribute(s)&&n.hasAttribute(l)&&n.getAttribute(l)==t&&(i[o=n.getAttribute(s)]=("country"==o?U:Ae)(n));return i},h.getValidatorInputs=function(e,t){for(var n=[],r=document.querySelectorAll(".foxentry-input-"+e),o=0;o<r.length;o++)parseInt(r[o].getAttribute("data-foxentry-"+e+"-index"))===parseInt(t)&&n.push(r[o]);return n},h.getInputByValidatorAndDatatype=function(e,t,n){for(var r,o=document.querySelectorAll(".foxentry-input-"+e+"-"+n),i=0;i<o.length;i++)if(parseInt(o[i].getAttribute("data-foxentry-"+e+"-index"))===parseInt(t)){r=o[i];break}return r},h.getValidatorSelectedCountry=function(e,t){return 0<(t=f.getElementsByType(e,["country"],t)).length?U(t[0]):""},h.getValidatorFilledInputs=Ke,h.validatorFilledOnlyCountry=function(e,t){return 1==(t=Ke(e,t)).length&&-1<t.indexOf("country")},h.getValidatorInputsCodes=function(e,t){for(var n=[],r=FoxentryConfig[e].data[t].mappings.inputs,o=0;o<r.length;o++)-1<n.indexOf(r[o].elementCode)||n.push(r[o].elementCode);return n.sort(),n},h.showHintsHolder=function(e,t){t=Qe(e,t),2===h.getWhisperVersion()?(h.whisper.show(e,t),h.whisper.showContent(t)):t.classList.add("foxentry-visible")},h.getResultsHolder=Qe,h.isIE=function(){return-1<navigator.userAgent.indexOf("MSIE ")||-1<navigator.userAgent.indexOf("Trident/")},h.isMsEdge=function(){return-1<navigator.userAgent.indexOf("Edge/")},h.isChrome=et,h.isFirefox=function(){return-1<navigator.userAgent.indexOf("Firefox/")},h.isOpera=tt;var rt=!1;function ot(){var e,t=FoxentryConfig.options.restrictions.countryLimit;if("string"==typeof t){if(""===t)return!1;t=[t]}return 0!==t.length&&(e=FoxentryClientData.hasOwnProperty("countryCode")?FoxentryClientData.countryCode:FoxentryClientData.country.code,!(-1<t.indexOf(e.toLowerCase())))}h.onFailure=function(e){if(!e)return!1;h.removeInputMsg(e),h.markInput(e,"failure"),E(e,!1),"email"===G(e)&&h.emailValidator.inputValidationFailure(e)},h.autojumpNext=function(e){!ut(FoxentryConfig.options.validationNextInputAutojump)||(e=(e=ne(e,!0))&&(e.classList.contains("foxentry-input-phonePrefix")?ne(e,!0):e))&&e.focus()},h.handleValidationEventType=function(e){var t="validation";return e.classList.contains("foxentry-validation-on-load")&&(t="autoValidation",e.classList.remove("foxentry-validation-on-load")),t},h.countryServiceLimited=ot;function it(e,t,n){if(!t.learningMode){"undefined"==typeof cachedResponse&&(cachedResponse=!1);var r,o=re(e);if(o.hasOwnProperty("userCode")&&h.user.setUserActivityCode(o.userCode),!1!==o||t.sequentialResponse||void 0===t.input||null===typeof t.input||h.onFailure(t.input),null!==t.callbacks&&"object"==typeof t.callbacks&&t.callbacks.hasOwnProperty("sequential"))for(var i=v(10),a=e.split("\n"),s=0;s<a.length;s++)t.callbacks.sequential(e,t.input,i,s);o.hasOwnProperty("requestId")&&!1===n&&(o.requestId,t.responseTime),"phone/prefixSelectorHtml"!=t.endpoint&&!t.input||"function"!=typeof t.callbacks?"object"==typeof t.callbacks&&null!==t.callbacks&&t.callbacks.hasOwnProperty("main")&&"function"==typeof t.callbacks.main&&t.callbacks.main(e,t.input):t.callbacks(e,t.input),!t.input||(r=D(t.input,"FORM"))&&Ye(r),"function"==typeof t.callbackCustom&&(r={},t.parameters.hasOwnProperty("validator")&&(r.type=t.parameters.validator.type,r.name=FoxentryConfig[r.type].data[t.parameters.validator.index].name,r.code=null),!1===t.hasOwnProperty("input")&&(t.input=null),t.callbackCustom(function(e){e.hasOwnProperty("generTime")&&delete e.generTime;e.hasOwnProperty("requestId")&&delete e.requestId;e.hasOwnProperty("data")&&(e.data.hasOwnProperty("cached")&&delete e.data.cached,e.data.hasOwnProperty("externalValidation")&&delete e.data.externalValidation);return e}(o),{input:t.input,validator:r}))}}function at(){(function(){var e,t,n=window.location.href.split("?");if(1<n.length)for(n=n[1].split("&"),e=0;e<n.length;e++)if("foxentryCheck"==(t=n[e].split("="))[0])return t[1];return null})()===FOXENTRY_PROJECT&&h.apiCall("config/checkerHtml","POST",{query:{}},{main:st})}function st(e){e=re(e),document.body.insertAdjacentHTML("beforeEnd",e.html),document.querySelector(".foxentry-checker-popup-close").addEventListener("click",lt),document.querySelector(".foxentry-checker-popup-close-continue").addEventListener("click",lt);for(var t,n=document.querySelectorAll("a"),r=0;r<n.length;r++)null!==(t=n[r].getAttribute("href"))&&(-1<t.indexOf("(")||(t=function(e){-1<e.indexOf("?")?e+="&foxentryCheck="+FOXENTRY_PROJECT:e+="?foxentryCheck="+FOXENTRY_PROJECT;return e}(t),n[r].setAttribute("href",t)));var o=document.querySelectorAll("form[method=get]");for(r=0;r<o.length;r++)o[r].insertAdjacentHTML("afterBegin",'<input type="hidden" name="foxentryCheck" value="'+FOXENTRY_PROJECT+'">')}function lt(){var e=document.querySelector(".foxentry-checker-popup-overlay");e.classList.add("foxentry-checker-popup-closed"),setTimeout(function(e){e.outerHTML=""},200,e)}function ut(e){return"true"===e||"false"!==e&&e}function dt(e){var t,n,r=window.location.href,o=!1;if(e.options.hasOwnProperty("restrictions")){if(0===e.options.restrictions.length)return!1;var i=function(e){var t,n={allowed:[],disallowed:[]};for(t=0;t<e.length;t++)(!0===ut(e[t].status)?n.allowed:n.disallowed).push(e[t]);return n}(e.options.restrictions);for(0<i.allowed.length&&(o=!0),t=0;t<i.allowed.length;t++)if("1"==(n=i.allowed[t]).type&&-1<r.indexOf(n.url)||"2"==n.type&&r.indexOf(n.url)<0||"3"==n.type&&n.url===r.substr(0,n.url.length)||"4"==n.type&&r===n.url||"5"==n.type&&r!==n.url){o=!1;break}for(t=0;t<i.disallowed.length;t++)if("1"==(n=i.disallowed[t]).type&&-1<r.indexOf(n.url)||"2"==n.type&&r.indexOf(n.url)<0||"3"==n.type&&n.url===r.substr(0,n.url.length)||"4"==n.type&&r===n.url||"5"==n.type&&r!==n.url){o=!0;break}}else o=!1;return o}function ct(){return FoxentryConfig.options.hasOwnProperty("whisperVersion")?parseInt(FoxentryConfig.options.whisperVersion):1}function pt(){return-1<window.location.href.indexOf("foxentry-abtest")||!!FoxentryConfig.options.hasOwnProperty("projectTest")&&ut(FoxentryConfig.options.projectTest.run)}function ft(){return FoxentryConfig.options.hasOwnProperty("projectTest")&&ut(FoxentryConfig.options.projectTest.run)?FoxentryConfig.options.projectTest.id:0}function yt(){return window.top!==window}function gt(){const e=Array.isArray(FoxentryConfig.options.allowedConflictingServices)?FoxentryConfig.options.allowedConflictingServices:[];if(window.smartform&&!e.includes("smartform"))try{window.smartform.unbindAllForms()}catch(e){}}function mt(){var e;""!==window.location.hash&&-1<window.location.hash.indexOf("foxentryconfig")||-1<document.cookie.indexOf("foxentry-config=")?function(){nt();var e=document.createElement("script");e.setAttribute("src","https://app.foxentry.cz/lib/configurator?v=1.05"),document.body.appendChild(e)}():-1<window.location.href.indexOf("foxentryCheck=")?at():!1!==FoxentryConfig.options.active&&(yt()&&!1===FoxentryConfig.options.allowIframeRun?new Date<new Date("2023-02-01 00:00:00")?console.log("%c Running Foxentry in iframe WILL BE FORBIDDEN from 2023-02-01. Contact us for more informations.","background: #f54009; color: #fff; font-weight: bold"):console.log("%c Running Foxentry in iframe IS FORBIDDEN from 2023-02-01. Contact us for more informations.","background: #f54009; color: #fff; font-weight: bold"):(FoxentryWebsiteCms&&(e="foxentry-cms-"+FoxentryWebsiteCms,!1===document.body.classList.contains(e)&&document.body.classList.add(e)),"function"==typeof FoxentryNameValidator&&(h.nameValidator=new FoxentryNameValidator(h)),"function"==typeof FoxentryAddressValidator&&(h.addressValidator=new FoxentryAddressValidator(h)),"function"==typeof FoxentryEmailValidator&&(h.emailValidator=new FoxentryEmailValidator(h)),"function"==typeof FoxentryPhoneValidator&&(h.phoneValidator=new FoxentryPhoneValidator(h)),"function"==typeof FoxentryCompanyValidator&&(h.companyValidator=new FoxentryCompanyValidator(h)),"function"==typeof FoxentryEventsLogger&&(h.eventsLogger=new FoxentryEventsLogger(h)),"function"==typeof FoxentryUserDataHelper&&xt()&&(h.user=new FoxentryUserDataHelper(h),h.user.init()),"function"==typeof FoxentryCacher&&(h.cache=new FoxentryCacher(h)),"function"==typeof FoxentryWhisper&&(h.whisper=new FoxentryWhisper(h)),"function"==typeof FoxentryUserActivity&&(h.userActivity=new FoxentryUserActivity(h)),rt=!0,gt(),setTimeout(function(){gt()},5e3),x(!0),function(){var e,t,n,r,o,i;if(!1!==ut(FoxentryConfig.options.onLoadValidation))for(e in FoxentryConfig)if(FoxentryConfig[e].hasOwnProperty("data"))for(n=FoxentryConfig[e].data,r=0;r<n.length;r++)for(t=n[r],o=0;o<t.mappings.inputs.length&&(!(i=me(t.mappings.inputs[o].elementCode))||"SELECT"===i.tagName||""===Ae(i)||(i.classList.add("foxentry-validation-on-load"),Oe(i),"name"===e));o++);}(),!1===FoxentryConfig.options.hasOwnProperty("triggerInputEventsOnFill")&&FoxentryBuilder.setOption("triggerInputEventsOnFill",["change"]),t=!0,Xe()&&alert(Foxentry.getVersion())))}function ht(e){h.user&&(e.project=FOXENTRY_PROJECT,e.host=window.location.host,h.user.handle(e))}function vt(){var e=function(e){for(var t,n=document.cookie.split("; "),r=0;r<n.length;r++)if((t=n[r].split("="))[0]==e)return t[1];return null}("foxentryCookieMode");return null===e?"full":e}function xt(){return"full"===vt()}return h.apiCall=function(n,e,r,t,o,i){var a=JSON.parse(JSON.stringify(r));"object"==typeof t&&null!==t&&(t.hasOwnProperty("sequential")&&(callbackSequential=t.sequential),callback=t.hasOwnProperty("main")?t.main:null),l=h.hasOwnProperty("cache")?h.cache.getCachedResponse({endpoint:n,parameters:r}):null;var s={endpoint:n,method:e,parameters:r,input:o,callbacks:t,callbackCustom:i};if(s.learningMode="phone/prefixSelectorHtml"!==n&&function(){if(!m){var e=Math.round(1e3*Math.random());if(!FoxentryLearningModeAllowed)return!1;(-1<window.location.href.indexOf("foxentry-learning")||100===e)&&(document.body.classList.add("foxentry-learning"),m=!0)}return m}(),null!==l)return setTimeout(function(e,t){it(e,t,!0)},50,l,s),null;var l,u=(new Date).getTime(),d=new XMLHttpRequest,c=0,p=!1,f=v(10);s.sequentialResponseCode=f,d.onreadystatechange=function(){var e,t;d.readyState==XMLHttpRequest.HEADERS_RECEIVED&&(p=!0===ut(d.getResponseHeader("Foxentry-sequential-results"))),s.sequentialResponse=p,d.readyState!=XMLHttpRequest.LOADING||"\n"===(e=d.responseText).substr(-1,1)&&p&&"function"==typeof callbackSequential&&(callbackSequential(e,o,f,c),c++),d.readyState!=XMLHttpRequest.DONE&&4!==d.readyState||(200==d.status?(t=(new Date).getTime(),s.responseTime=(t-u)/1e3,p&&"function"==typeof callbackSequential&&callbackSequential(d.responseText,o,f,c),h.hasOwnProperty("cache")&&h.cache.cacheResponse({endpoint:n,parameters:r},d.responseText),it(d.responseText,s,!1)):400==d.status&&((t=re(d.responseText)).hasOwnProperty("error")&&console.info("%c "+t.error,"background: #8b0000; color: #fff"),h.onFailure(o)))},d.onabort=function(){},a.client={token:FoxentryClientToken,referer:window.location.href,device:{mobile:-1<(l=navigator.userAgent.toLowerCase()).indexOf("mobile")||(-1<l.indexOf("android")||(-1<l.indexOf("ipad")||-1<l.indexOf("ipod")||-1<l.indexOf("iphone")||window.innerWidth<=1024&&window.innerHeight<=768)),screen:{width:window.screen.width,height:window.screen.height,widthAvailable:window.screen.availWidth,heightAvailable:window.screen.availHeight},touchSupported:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||0<navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints,userAgent:navigator.userAgent},iframeParent:function(){if(yt()&&void 0!==window.location.ancestorOrigins)return window.location.ancestorOrigins[window.location.ancestorOrigins.length-1];return null}()},a.version=g,a.charset=document.characterSet,a.projecttest=ft(),rt&&(void 0!==h.user&&xt()&&(a.client.userCode=h.user.getUserActivityCode()),a.client.session=h.eventsLogger.getSessionCode()),a.hasOwnProperty("validator")&&(a.validator.inputs=h.getValidatorInputsCodes(a.validator.type,a.validator.index)),"function"==typeof i&&(a.callbackFunction=i.toString()),a.learningMode=s.learningMode,a=JSON.stringify(a);a=encodeURIComponent(a),i=y+n;return FoxentryConfig.hasOwnProperty("forceApiServer")&&(i=i+"?s="+FoxentryConfig.forceApiServer),d.open(e,i,!0),d.timeout=1e4,d.ontimeout=function(e){null!==typeof o&&h.onFailure(o)},d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.send("request="+a),d},h.getSpecialConfigParamValue=function(e){return FoxentryConfig.hasOwnProperty("specialConfig")&&FoxentryConfig.specialConfig.hasOwnProperty(e)?FoxentryConfig.specialConfig[e]:null},h.isKeyCodeValidForInput=function(e){return[9,13,27,37,38,39,40,46].indexOf(e)<0},h.toBool=ut,h.getWhisperVersion=ct,h.getFoxentryElementVisibleClass=function(){return 2===ct()?"foxentry-active":"foxentry-visible"},h.validatorRestrictionInEffect=dt,h.projectTestRun=pt,h.getProjectTestId=ft,h.mergeCustomRequestOptionsWithProjectOptions=function(e,t){var n,r=JSON.parse(JSON.stringify(FoxentryConfig[e].options));if("object"==typeof t)for(n in t)r[n]=t[n];return r},{saveEvents:function(){h.eventsLogger.saveEvents()},configurationValidator:h.configurationValidator,nameValidator:h.nameValidator,config:FoxentryConfig,formValidation:Ye,isFormValid:function(e){return!0===(e=Ye(e)).validWithWarnings?"warning":e.valid},activate:function(){if(FoxentryConfig.options.active)return!0;Xe()&&console.info("Activating Foxentry"),FoxentryConfig.options.active=!0,FoxentryBuilder.rebuildElements(),mt()},deactivate:function(){Xe()&&console.info("Deactivating Foxentry"),x(FoxentryConfig.options.active=!1),Ze(".foxentry-input-msg"),function(){for(var e=document.querySelectorAll(".foxentry-whisper-items-holder, .foxentry-hints-holder"),t=0;t<e.length;t++)e[t].parentElement.removeChild(e[t])}(),Ze(".foxentry-input-icon"),function(){var e,t,n,r=document.querySelectorAll('[class^="foxentry-"]');for(e=0;e<r.length;e++)for(n=[].slice.apply(r[e].classList),t=0;t<n.length;t++)"foxentry"==n[t].substr(0,8)&&r[e].classList.remove(n[t])}()},ready:function(){"function"==typeof onFoxentryProjectLoad&&window.onFoxentryProjectLoad(),mt()},getNextInput:ne,loadProject:o,loadConfig:a,getConfig:function(){return FoxentryConfig},getVersion:function(){return g},isReady:function(){return t},api:{address:{search:function(e,t,n){t.requestSource="jsapi",h.addressValidator.search(e,t,n)},validate:function(e,t,n){t.requestSource="jsapi",h.addressValidator.validate(e,t,n)}},company:{validate:function(e,t,n){t.requestSource="jsapi",h.companyValidator.validate(e,t,n)}},email:{validate:function(e,t,n){t.requestSource="jsapi",h.emailValidator.validate(e,t,n)}},name:{validate:function(e,t,n){t.requestSource="jsapi",h.nameValidator.validate(e,t,n)}},phone:{validate:function(e,t,n,r){n.requestSource="jsapi",h.phoneValidator.validate(e,t,n,r)}},user:{suggest:function(e,t){h.user.suggestUserData(e,t)}}},handleUserData:ht,getRequestsUsageData:function(){return"undefined"==typeof FoxentryRequestsUsageData?null:FoxentryRequestsUsageData},validationInProgress:function(){return 0<document.querySelectorAll(".foxentry-input-icon-loading").length},getCookieMode:vt,setCookieMode:function(e,t){void 0===t&&(t=window.location.host);var n=new Date;n.setTime(n.getTime()+31536e6),document.cookie="foxentryCookieMode="+e+";path=/;domain="+t+";expires="+n.toGMTString()}}},FoxentryAddressValidator=function(h){"use strict";var a,p=FoxentryConfig.address,i=!1,s=null,v={},x=!1,d={};function f(e){return h.getElementsByType("address",["streetWithNumber","city","street","number","streetNumber","streetWithNumber","streetNumber.number1","streetNumber.number2","zip","full","country"],e)}var y=null;function c(e,t,n,r){if(!h.projectHasReachedPlanLimit("addressSearch")&&void 0!==e){e.focus();var o=e.getAttribute("data-foxentry-address-datatype"),i=e.getAttribute("data-foxentry-address-index"),a=e.getAttribute("data-foxentry-validated-value"),s=(e.getAttribute("data-foxentry-last-autohint-value"),h.getInputValue(e)),l=h.getValues("address",i,"inputs"),u=function(e){var t,n,r,o=f(e),i=[];for(n in o)t=o[n],h.isHTMLInputElement(t)&&(r=t.getAttribute("data-foxentry-address-datatype"),""!=h.getInputValue(t)&&i.push(r));return i}(i);if(s===a&&""!==s||n&&"zip"==o&&""==s&&u.indexOf("city")<0&&u.indexOf("street")<0&&u.indexOf("streetWithNumber")<0)return h.showHintsHolder(e,"address"),void 0;y&&y.abort(),e.setAttribute("data-foxentry-last-autohint-value",s),JSON.stringify(l);var d={query:l,options:h.getValidatorOptions("address",i)};if(!1===d.query.hasOwnProperty("country")&&d.options.hasOwnProperty("defaultCountryLimit")&&(d.query.country=d.options.defaultCountryLimit,d.options.countrySelectMode="limit"),t=t||o,d.query.autohint=t,d.query.autohintType="auto",d.query.searchType=o,r)for(var c in r)d.query[c]=r[c];if("streetWithNumber"==o&&u.indexOf("city")<0&&u.indexOf("zip")<0&&""==h.getInputValue(e)){if(p.options.limits.resultsPersonalized<1)return;d.query.autohintHistoryOnly=!0}2===h.getWhisperVersion()&&(u=h.getResultsHolder(e,"address"),h.whisper.show(e,u)),y=h.apiCall("locations/search","POST",d,{sequential:C,main:g},e),0}}function g(e,t){var n=t.getAttribute("data-foxentry-address-datatype");if(!1===v.hasOwnProperty(n))return!1;v[n].length<1&&((n=h.getResultsHolder(t,"address"))&&(2===h.getWhisperVersion()?h.whisper.hide(n):n.classList.remove(h.getFoxentryElementVisibleClass()),A(t,null,!0)))}function m(e){var t,n;h.projectHasReachedPlanLimit("addressValidations")?h.disableShoptetValidation(e,!1):e.disabled||e.readOnly&&!h.isFoxentryReadOnly(e)||(a&&a.abort(),t=e.getAttribute("data-foxentry-address-datatype"),n=e.getAttribute("data-foxentry-address-index"),clearTimeout(h.timeouts[t+n]),h.timeouts[t+n]=setTimeout(function(e,t,n){if("SELECT"!==e.tagName&&""!==e.getAttribute("data-foxentry-prev-value")&&""==h.getInputValue(e))return!1;var r=h.handleValidationEventType(e);void 0===i&&(i=h.getValuesBeforeValidation("address",n));var o=h.getValues("address",n,"inputs");if(h.validatorFilledOnlyCountry(f(n),"address"))return!1;"streetWithNumber"==(t=b(n)&&"full"!==t?"all":t)&&e.classList.contains("foxentry-street-with-filled-number");var i={query:o,options:h.getValidatorOptions("address",n),helpers:{valuesBeforeValidation:i}};!1===i.query.hasOwnProperty("country")&&i.options.hasOwnProperty("defaultCountryLimit")&&(i.query.country=i.options.defaultCountryLimit,i.options.countrySelectMode="limit"),i.query.searchType=t,h.eventsLogger.addEvent(r,e,{query:i.query,validatorType:"address",elementInputCodes:h.getValidatorInputsCodes("address",n)}),i.events=h.eventsLogger.getEventsToSave(),i.validator={type:"address",index:n},a=h.apiCall("locations/validate","POST",i,l,e,p.options.callback)},50,e,t,n))}function l(e,t){var n=!1,r=!1;if(!1===(e=h.getJSON(e)))return!1;var o=t.getAttribute("data-foxentry-address-index");t.getAttribute("data-foxentry-address-datatype");if(!1===e.data.hasOwnProperty("valid"))return!1;if(!e)return!1;e.data.valid&&(n=!0),e.data.validAll&&(r=!0);var i=b(o);d[o]=r&&h.toBool(e.data.singleResult);var a,s=f(o),l=h.toBool(p.data[o].options.validityRequired)?"error":"warning";if(i||h.toBool(e.data.singleResult))r?(h.markMultiple(s,"valid","address"),i=!1===e.data.data.hasOwnProperty("country")?"cz":e.data.data.country.code,h.saveData("address",{id:e.data.data.id,country:i}),h.removeHintersOnValidationSuccess("address",o)):h.markMultiple(s,l,"address");else if(""===h.getInputValue(t))h.clearInputMarkings(t),h.removeInputMsg(t);else if(n){if(h.markInput(t,"valid","address"),e.data.hasOwnProperty("autofix"))for(var u in e.data.autofix)h.fillData("address",o,e.data.autofix,[u]);for(u in a=e.data.hasOwnProperty("validInputs")?e.data.validInputs:e.data.data.hasOwnProperty("validInputs")?e.data.data.validInputs:[])h.markInputs(h.getElementsByType("address",a,o),"valid","address")}else h.markInput(t,l,"address");h.fillData("address",o,e.data.data),r&&0}function n(e){var t,n,r,o=(e=e||window.event).target;return!o.classList.contains("foxentry-triggering-events")&&(o.classList.contains("foxentry-input")||h.initElementsOnFly([o]),void 0!==e.which&&void(h.isKeyCodeValidForInput(e.which)&&(n=o.getAttribute("data-foxentry-address-index"),d[n]=!1,t=o,h.projectHasReachedPlanLimit("addressSearch","addressValidations")||(e=h.getInputValue(t),n=t.getAttribute("data-foxentry-address-index"),o=t.getAttribute("data-foxentry-address-datatype"),p.data[n],0<e.length?(2===h.getWhisperVersion()&&(e=h.getResultsHolder(t,"address"),h.whisper.show(t,e)),y&&y.abort(),!(r={query:h.getValues("address",n,"inputs"),options:h.getValidatorOptions("address",n)})===r.query.hasOwnProperty("country")&&r.options.hasOwnProperty("defaultCountryLimit")&&(r.query.country=r.options.defaultCountryLimit,r.options.countrySelectMode="limit"),r.query.searchType=o,!(r.validator={type:"address",index:n})!==i&&(window.clearTimeout(i),null!==s&&s.abort()),i=setTimeout(function(){s=h.apiCall("locations/search","POST",r,{sequential:C,main:g},t)},30)):h.hideResultsHolder(t)))))}function r(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;var n=t.getAttribute("data-foxentry-address-index");if(h.inputChangeEventProgress("address",n))return!1;if(h.inputChangeEventProgress("address",n,!0),0<h.getFilledElements("address",n,"inputs").length&&!x){if("streetWithNumber"==t.getAttribute("data-foxentry-address-datatype")){var r=function(e){var e=e.trim(),t=[],n=[];if(0<e.length){var r,o,i=(e=e.replace(".",". ").replace("  "," ")).split(" ");for(i=i.reverse(),r=0;r<i.length;r++)(!function(e){{if(e=e.replace("/","",e),!isNaN(e.substr(0,e.length-1)))return!0;if(!isNaN(e))return!0}return!1}(o=i[r])||0<t.length?t:n).push(o);t=t.reverse(),n=n.reverse()}return{street:t.join(" ").trim(),number:n.join(" ").trim()}}(h.getInputValue(t)),e=h.getSpecialConfigParamValue("addressValidationSpecialType");if(""===r.number&&"streetWithNumberOrStreet"==e)return h.inputChangeEventProgress("address",n,!1),!1}"SELECT"===t.tagName&&0,setTimeout(function(e,t){m(t)},30,n,t)}else{h.clearInputs(h.getElementsByType("address",[],n));t=h.getInputForm(t);t&&h.formValidator(t)}h.inputChangeEventProgress("address",n,!1)}function b(e){var t,n=!0,r=f(e);for(e in r)if(t=r[e],h.isHTMLInputElement(t)&&""==h.getInputValue(t)){n=!1;break}return n}function o(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;e.preventDefault(),FoxentryConfig.options.hasOwnProperty("stopPropagationOnInputFocusOut")&&!FoxentryConfig.options.stopPropagationOnInputFocusOut||e.stopPropagation();var n=t.getAttribute("data-foxentry-address-index");if(e=t,e!==document.activeElement&&!function(){for(var e=document.querySelectorAll(":hover"),t=!1,n=0;n<e.length;n++)if(e[n].classList.contains("foxentry-whisper-items-holder")){t=!0;break}return t}()){for(var r=f(n),o=!0,i=0;i<r.length;i++)if(""!==h.getInputValue(r[i])){o=!1;break}if(""==h.getInputValue(t))h.clearInputMarkings(t),h.removeInputMsg(t);else if(o)for(i=0;i<r.length;i++)h.clearInputMarkings(r[i]),h.removeInputMsg(r[i])}}var u=null,w=[];function C(e,t,n,r){if(h.projectTestRun())return!1;if(t!==document.activeElement)return!1;var o=t.getAttribute("data-foxentry-address-index");if(d.hasOwnProperty(o)&&!0===d[o])return!1;var i,a,s=(s=e.split("\n")).filter(function(e){return e}),e=t.getAttribute("data-foxentry-address-datatype");for(u!==n&&(w=[],v[e]=[]),u=n,0!=r&&1!=s.length||0,i=0;i<s.length;i++)if(!(-1<w.indexOf(i))){if(a=h.getJSON(s[i])){if(a.hasOwnProperty("final")){A(t,n);break}!function(e,t,n,r){var o,i,a,s,l,u,d,c,p,f,y,g,m;e&&(o=h.getResultsHolder(t,"address"))&&(i=t.getAttribute("data-foxentry-address-datatype"),!1===v.hasOwnProperty(i)&&(v[i]=[]),c=o.querySelector(".foxentry-hints-holder-inner, .foxentry-form-content"),p=[],f="",y=c.querySelectorAll(".foxentry-whisper-item"),g=c.querySelectorAll(".foxentry-response-"+n).length,m=""!==FoxentryConfig.options.restrictions.countryLimit,e.data.results.forEach(function(e,t){v[i].push(e),e[i+".value"],l=e.hint,u=e.hasOwnProperty("hintDetail")?e.hintDetail:"",d=e.hasOwnProperty("resultSubType")?e.resultSubType:"",a=e.hasOwnProperty("resultClass")?" "+e.resultClass:e.hasOwnProperty("item_class")?" "+e.item_class:"",e.hasOwnProperty("used")&&e.used&&(a+=" used"),(s=2===h.getWhisperVersion()?["foxentry-form-whisper__line"]:["foxentry-hint"]).push("foxentry-whisper-item"),s.push("foxentry-result-search-mode-"+e.resultQueryType),s.push("foxentry-response-"+n),s.push(a),m&&s.push("foxentry-country-limited"),f=2===h.getWhisperVersion()?h.whisper.buildResultItemHtml(e,i):'<div class="foxentry-flag-holder"><img src="'+h.appUrl+"/assets/public/svg/flags/"+e.resultCountry+'.svg"></div><div class="foxentry-hint-value">'+l+'</div><div class="foxentry-hint-detail">'+u+'</div><div class="foxentry-clearfix"></div>',y.length>g?((u=c.querySelectorAll(".foxentry-whisper-item")[g]).innerHTML=f,u.classList.contains("foxentry-hint-selection-ready")&&s.push("foxentry-hint-selection-ready"),s.push("replaced"),u.setAttribute("class",s.join(" ")),u.setAttribute("data-result-subtype",d),u.setAttribute("value-index",g),u.style.display="block"):(f='<div class="'+s.join(" ")+'" value-index="'+g+'" data-result-subtype="'+d+'">'+f+"</div>",p.push(f)),g++}),0<p.length&&(0==r?c.innerHTML=p.join(""):c.insertAdjacentHTML("beforeend",p.join(""))),2===h.getWhisperVersion()?(h.whisper.isContentVisible(o)||(h.whisper.showContent(o),h.eventsLogger.addEvent("hintsHolderShow",t),h.hintsHolderVisible=!0),h.whisper.scrollContentTop(o)):!1===o.classList.contains(h.getFoxentryElementVisibleClass())&&(o.classList.add("foxentry-visible"),h.eventsLogger.addEvent("hintsHolderShow",t),h.hintsHolderVisible=!0),!0===e.autohint&&1==v[i].length&&E(o.querySelector(".foxentry-whisper-item")),function(){for(var e=o.querySelectorAll(".foxentry-whisper-item:not(.foxentry-hint-selection-ready), .foxentry-form-whisper__line:not(.foxentry-hint-selection-ready)"),t=0;t<e.length;t++)e[t].addEventListener("click",E.bind(this,e[t])),e[t].addEventListener("mouseover",function(){x=!0}),e[t].addEventListener("mouseout",function(){x=!1}),e[t].classList.add("foxentry-hint-selection-ready")}())}(a,t,n,i)}w.push(i)}}function A(e,t,n){e=h.getResultsHolder(e,"address");if(e)for(var r=e.querySelectorAll(".foxentry-whisper-item"),o=0;o<r.length;o++)r[o].classList.contains("foxentry-response-"+t)||(!0===n?r[o].outerHTML="":r[o].style.display="none")}function E(e){x=!0;var t=h.getParent(e,"foxentry-whisper-items-holder"),n=t.getAttribute("data-input-datatype"),r=t.getAttribute("data-input-index"),o=e.getAttribute("value-index");if(!1===v.hasOwnProperty(n))return!1;var i=v[n][o],a=h.getElementsByType("address",[n],r)[0];if(!i)return c(a),!1;h.hasOwnProperty("usageLogger")&&h.usageLogger.saveHintUsage({validatorType:"address",query:h.getInputValue(a),hint:{type:i.resultType,value:i.hintValue},filter:h.getValues("address",r,"inputs")});h.getValuesBeforeValidation("address",r);h.eventsLogger.addEvent("hintUsed",a,{validator:{type:"address",index:r},hint:{value:i.hintValue,detail:i.hintDetail},hintResultType:i.resultType,result:{type:i.resultType,used:"used"===i.resultQueryType,data:i.data}}),function(e,t){var n,r,o;for(n in t.data)if("object"==typeof(r=t.data[n])&&("streetNumber"==n?r=r.full:"country"==n&&(r=r.code)),0<(o=h.getElementsByType("address",[n],e)).length)for(var i=0;i<o.length;i++){var a,s=o[i];"country"==n?h.fillCountrySelectElement(s,r):(a=h.getInputValue(s),h.setInputValue(s,r),a!==r&&h.triggerInputEventsOnFill(s))}}(r,i),h.triggerEvent(a,"blur");var s,l=e.classList.contains("foxentry-result-street-with-number-not-unique"),u=e.classList.contains("foxentry-result-street-with-number"),t=e.classList.contains("foxentry-result-full"),o=e.classList.contains("foxentry-result-street");u?a.classList.add("foxentry-street-with-filled-number"):a.classList.remove("foxentry-street-with-filled-number"),"streetWithNumber"==n&&o&&!u?(h.updateInputValueOnAutohint(a,i.hint),c(a,"streetWithNumberByStreetName")):"streetWithNumber"==n&&l?(h.updateInputValueOnAutohint(a,i.hint,!1),c(a,"uniqueStreetWithNumberByNonUnique")):"streetWithNumber"!=n&&"full"!=n||u||t||l?"streetWithNumber"==n&&u&&l?(h.hideResultsHolder(a),c(a,"uniqueStreetWithNumber")):"city"==n?(e=h.getElementsByType("address",["zip"],r),o=h.getElementsByType("address",["street"],r),0<(t=h.getElementsByType("address",["streetWithNumber"],r)).length?(h.hideResultsHolder(a),""===h.getInputValue(t[0])?c(t[0],"streetWithNumber",!1,{autohintByCity:!0}):0<e.length&&""===h.getInputValue(e[0])&&c(e[0])):0<o.length?(h.hideResultsHolder(a),""===h.getInputValue(o[0])?c(o[0],"street",!1,{autohintByCity:!0}):0<e.length&&""===h.getInputValue(e[0])&&c(e[0])):h.hideResultsHolder(a)):"street"==n?(s=h.getElementsByType("address",["streetNumber"],r),h.hideResultsHolder(a),0<s.length&&(h.hideResultsHolder(a),""===h.getInputValue(s[0])&&c(s[0],"streetNumber"))):"streetNumber"==n||"zip"==n?(s=h.getElementsByType("address",["city"],r),h.hideResultsHolder(a),""===h.getInputValue(s[0])&&c(s[0])):(h.hideResultsHolder(a),h.hintsHolderVisible=!1):(h.updateInputValueOnAutohint(a,i.hint),c(a));r=b(r);("streetWithNumber"!==n||u&&!l)&&(m(a),r&&h.autojumpNext(a)),x=!1}return{initInputEvents:function(e,t){!0===t?(e.addEventListener("keyup",n),e.addEventListener("focusout",o),e.addEventListener("change",r)):(e.removeEventListener("keyup",n),e.removeEventListener("focusout",o),e.removeEventListener("change",r))},isValid:function(e){return void 0===e&&(e=0),h.getInvalidInputs("address",e).length<1},search:function(e,t,n){if(h.projectHasReachedPlanLimit("addressSearch"))return!1;(t={query:e,options:t=h.mergeCustomRequestOptionsWithProjectOptions("address",t)}).options.jsApiCall=!0,h.apiCall("locations/search","POST",t,null,null,n)},validate:function(e,t,n){if(h.projectHasReachedPlanLimit("addressValidations"))return!1;(r={query:e,options:t=h.mergeCustomRequestOptionsWithProjectOptions("address",t)}).options.jsApiCall=!0;var r={query:e,options:t};h.apiCall("locations/validate","POST",r,null,null,n)},getInputsByGroup:f,getValidationStatus:function(e){return d[e]||!1},useHint:E}},FoxentryCompanyValidator=function(d){"use strict";var a,s=FoxentryConfig.company,o=!1,i=null,c=[],l=null;function n(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;t.classList.contains("foxentry-input")||d.initElementsOnFly([t]);var n,r;if(void 0===e.which)return!1;d.isKeyCodeValidForInput(e.which)&&(l=null,a=!1,n=t,d.projectHasReachedPlanLimit("companySearch","companyValidations")||(e=d.getInputValue(n),t=n.getAttribute("data-foxentry-company-index"),n.getAttribute("data-foxentry-address-datatype")||(0<e.length?(2===d.getWhisperVersion()&&(e=d.getResultsHolder(n,"company"),d.whisper.show(n,e)),!(r={query:d.getInputsCurrentValues("company",t),options:d.getValidatorOptions("company",t)})===r.query.hasOwnProperty("country")&&r.options.hasOwnProperty("defaultCountryLimit")&&(r.query.country=r.options.defaultCountryLimit,r.options.countrySelectMode="limit"),r.query.searchType=n.getAttribute("data-foxentry-company-datatype"),r.options.addressValidator=FoxentryConfig.address.options,!1!==o&&(window.clearTimeout(o),null!==i&&i.abort()),o=setTimeout(function(){d.apiCall("company/search","POST",r,u,n)},30)):d.hideResultsHolder(n))))}function r(e){var t=(e=e||window.event).target,n=t.getAttribute("data-foxentry-company-index");if(t.classList.contains("foxentry-triggering-events"))return!1;if(d.inputValueClearedByUser(t)){if(!d.developerMode())return!1;if(!function(e,t,n){for(var r,o=d.getValidatorFilledInputs(d.getValidatorInputs(e,t),e),i=!1,a=0;a<o.length;a++)if("country"!==(r=o[a])&&r!==n.getAttribute("data-foxentry-"+e+"-datatype")){i=!0;break}return i}("company",n,t))return!1}if(d.inputChangeEventProgress("company",n))return!1;d.inputChangeEventProgress("company",n,!0),a=!1,0<d.getInputValue(t).length||"SELECT"==t.tagName?setTimeout(function(e){g(e)},30,t):(e=d.getValidatorInputs("company",n),0<d.getValidatorFilledInputs(e,"company").length?setTimeout(function(e){g(e)},30,t):d.clearInputs(e)),d.inputChangeEventProgress("company",n,!1)}function u(e,t){if(d.projectTestRun())return!1;var n=t.getAttribute("data-foxentry-element"),r=t.getAttribute("data-foxentry-company-datatype"),o=d.getJSON(e);if(!o)return!1;if(o.data.results.length<1)return d.hideResultsHolder(t),!1;d.createHintHolder("company",t),c[r]=o.data.results;var i,a=[],s=[],l=""!==FoxentryConfig.options.restrictions.countryLimit;c[r].forEach(function(e,t){s=[],e.hasOwnProperty("item_class")&&s.push(e.item_class),e.hasOwnProperty("used")&&e.used&&s.push("used"),l&&s.push(" foxentry-country-limited"),s.push("foxentry-whisper-item"),i=2===d.getWhisperVersion()?(s.push("foxentry-form-whisper__line"),'<div class="foxentry-hint-company '+s.join(" ")+'" value-id="'+e.data.registrationNumber+'" value-index="'+t+'">'+d.whisper.buildCompanyResultItemHtml(e,o.trans)+"</div>"):(s.push("foxentry-hint"),'<div class="foxentry-hint-company '+s.join(" ")+'" value-id="'+e.data.registrationNumber+'" value-index="'+t+'"><div class="foxentry-flag-holder"><img src="'+d.appUrl+"/assets/public/svg/flags/"+e.resultCountry+'.svg"></div><div class="foxentry-hint-value"><strong>'+e.data.name+'</strong><br><span class="foxentry-company-number">'+o.trans.registrationNumber+": "+e.data.registrationNumber+'</span></div><div class="foxentry-hint-detail"><span>'+e.data.formatted.address.full+'</span></div><div class="foxentry-clearfix"></div></div>'),a.push(i)});var u=document.querySelector(".foxentry-results-"+n);if(!u)return!1;u.querySelector(".foxentry-hints-holder-inner, .foxentry-form-content").innerHTML=a.join(""),0<c[r].length?(!1===u.classList.contains(d.getFoxentryElementVisibleClass())&&(d.eventsLogger.addEvent("hintsHolderShow",t),d.hintsHolderVisible=!0),2===d.getWhisperVersion()?(d.whisper.showContent(u),d.whisper.scrollContentTop(u)):u.classList.add("foxentry-visible"),function(){var e,t=u.querySelectorAll(".foxentry-whisper-item:not(.foxentry-hint-selection-ready)");for(e=0;e<t.length;e++)t[e].addEventListener("click",p.bind(this,t[e]))}()):2===d.getWhisperVersion()?d.whisper.hide(u):u.classList.remove("foxentry-visible")}function p(e){!1===e.classList.contains("foxentry-whisper-item")&&(e=d.getParent(e,"foxentry-whisper-item")),d.USING_HINT=!0;var t=d.getParent(e,"foxentry-whisper-items-holder"),n=t.getAttribute("data-input-datatype"),t=t.getAttribute("data-input-index"),e=e.getAttribute("value-index"),e=c[n][e],n=d.getElementsByType("company",[n],t)[0];d.hideResultsHolder(n),d.hintsHolderVisible=!1,l=d.getValuesBeforeValidation("company",t),d.fillData("company",t,e.data),d.triggerEvent(n,"change"),d.autojumpNext(n),d.eventsLogger.addEvent("hintUsed",n,{hint:{value:e.hintValue,detail:e.hintDetail}}),d.USING_HINT=!1}function f(e){return d.getElementsByType("company",["all","country","name","nameNumber","registrationNumber","taxNumber","vatNumber","nameNumber","address.street","address.number","address.streetWithNumber","address.city","address.zip","address.full","address.streetNumber","address.streetNumber.full"],e)}var y;function g(e){var t,n;d.projectHasReachedPlanLimit("companyValidations")||e.disabled||e.readOnly&&!d.isFoxentryReadOnly(e)||"address"!=e.getAttribute("data-foxentry-company-datatype").substr(0,7)&&(y&&y.abort(),a||(t=e.getAttribute("data-foxentry-company-datatype"),n=e.getAttribute("data-foxentry-company-index"),clearTimeout(d.timeouts[t+n]),d.timeouts[t+n]=setTimeout(function(e,t,n){if(null===l&&(l=d.getValuesBeforeValidation("company",n)),d.validatorFilledOnlyCountry(f(n),"company"))return!1;var r=f(n),r=(FoxentryConfig.company.data[n].mappings,d.allFilled(r),{query:(o=f(o=n),d.getInputsValues("company",o)),options:d.getValidatorOptions("company",n),helpers:{valuesBeforeValidation:l}});!1===r.query.hasOwnProperty("country")&&r.options.hasOwnProperty("defaultCountryLimit")&&(r.query.country=r.options.defaultCountryLimit,r.options.countrySelectMode="limit"),r.options.addressValidator=FoxentryConfig.address.options;var o=d.handleValidationEventType(e);d.eventsLogger.addEvent(o,e,{query:r.query,validatorType:"company",elementInputCodes:d.getValidatorInputsCodes("company",n)}),r.events=d.eventsLogger.getEventsToSave(),r.validator={type:"company",index:n},y=d.apiCall("company/validate","POST",r,m,e,s.options.callback)},100,e,t,n)))}function m(e,t){var n=!1;e=d.getJSON(e);var r=t.getAttribute("data-foxentry-company-index");t.getAttribute("data-foxentry-company-datatype");if(!e)return!1;e.data.valid,e.data.validAll&&(n=!0);var o=f(r),i=(d.allFilled(o),f(r));n&&(d.saveData("company",{id:e.data.data.id,country:e.data.data.country.code}),d.autojumpNext(t));o=d.toBool(s.data[r].options.validityRequired)?"error":"warning";e.data.hasOwnProperty("msg")&&function(e){if(e.hasOwnProperty("input")){if((t=d.getElementsByType("company",[e.input],index)).length<1)return;t=t[0]}else var t=input;d.setInputMsg(t,e.type,e.text)}(e.data.msg),(n||d.toBool(e.data.singleResult))&&(d.fillData("company",r,function(e,t){d.developerMode();if("undefined"==typeof FoxentryProjectProviderCountry)return e;d.developerMode()&&(console.warn("handleTaxVatData"),console.warn(e),console.warn(t),console.warn(d.getInputByValidatorAndDatatype("company",t,"taxNumber")),console.warn(d.getInputByValidatorAndDatatype("company",t,"vatNumber")),console.warn(FoxentryProjectProviderCountry,e.country.code));d.getInputByValidatorAndDatatype("company",t,"taxNumber")&&d.getInputByValidatorAndDatatype("company",t,"vatNumber")||d.getInputByValidatorAndDatatype("company",t,"taxNumber")&&!d.getInputByValidatorAndDatatype("company",t,"vatNumber")&&FoxentryProjectProviderCountry!==e.country.code&&("pl"===e.country.code&&""===e.vatNumber||(e.taxNumber=e.vatNumber));d.developerMode()&&(console.warn("handleTaxVatData result"),console.warn(e));return e}(e.data.data,r)),d.hideResultsHolder(t)),n?d.markMultiple(i,"valid","company"):d.markMultiple(i,o,"company"),a=!0}return{initInputEvents:function(e,t){!0===t?(e.addEventListener("keyup",n),e.addEventListener("change",r)):(e.removeEventListener("keyup",n),e.removeEventListener("change",r))},validate:function(e,t,n){if(d.projectHasReachedPlanLimit("companyValidations"))return!1;(t=d.mergeCustomRequestOptionsWithProjectOptions("company",t)).addressValidator=FoxentryConfig.address.options,(t={query:e,options:t}).options.jsApiCall=!0,d.apiCall("company/validate","POST",t,null,null,n)},useHint:p,isValid:function(e){return void 0===e&&(e=0),d.getInvalidInputs("company",e).length<1}}},FoxentryEmailValidator=function(l){"use strict";var n,u=FoxentryConfig.email,d=!1,r=!1,c={};function p(e,t){var n;r||!e.hasOwnProperty("hint")||(n=l.setInputMsg(t,"warning",e.hint.output))&&(n.classList.add("foxentry-simple-hint-msg"),n.setAttribute("data-value",e.hint.value),n.addEventListener("click",function(e,t,n){if(!t)return!1;t=t.getAttribute("data-value");l.setInputValue(e,t),l.addValueToMonitor(e),l.eventsLogger.addEvent("hintUsed",e,{value:t}),l.removeInputMsg(e),r=!1,l.usedHint=!0,o(e)}.bind(this,t,n)))}function o(e){var t;l.projectHasReachedPlanLimit("emailValidations")||e.disabled||e.readOnly&&!l.isFoxentryReadOnly(e)||(t=l.getInputValue(e),d||""==t||"@"==t||(t!==t.trim()&&(t=t.trim()),l.markInput(e,"loading","email"),clearTimeout(n),n=setTimeout(function(e){d=!0;var t=l.getInputValue(e).trim(),n=e.getAttribute("data-foxentry-email-index"),r=e.getAttribute("data-foxentry-element"),t={query:{email:t},options:l.getValidatorOptions("email",n),helpers:{usedHint:l.usedHint,inputingSession:l.inputingSessions[r]}},r=l.handleValidationEventType(e);l.eventsLogger.addEvent(r,e,{query:t.query}),t.events=l.eventsLogger.getEventsToSave(),t.validator={type:"email",index:n},l.apiCall("email/validate","POST",t,i,e,u.options.callback)},100,e)))}function i(e,t){var n=!1;if(!(e=l.getJSON(e)))return!1;var r=t.getAttribute("data-foxentry-email-index"),o=t.getAttribute("data-foxentry-element");l.clearInputMarkings(t);var i=l.toBool(u.data[r].options.validityRequired)?"error":"warning";if(!1===e.success)return!1;var a,s=e.data.hasOwnProperty("sure")&&!0===e.data.sure;!e.data.valid&&!1===s&&2<l.inputValueOccurrence(t,l.getInputValue(t))&&(n=e.data.valid=!0),!0===e.data.valid?(l.markInput(t,"valid","email"),l.removeSimpleHint(t),s=t,l.saveData("email",{value:l.getInputValue(s)}),l.fillData("email",r,e.data.data),!e.data.hasOwnProperty("hint")||l.usedHint||n||p(e.data,t),document.activeElement===t&&l.autojumpNext(t)):(l.fillData("email",r,e.data.data),!e.data.hasOwnProperty("hint")||l.usedHint||n?e.data.hasOwnProperty("msg")&&!n&&l.setInputMsg(t,i,e.data.msg.text):p(e.data,t),l.markInput(t,i,"email")),e.data.valid&&(n=(r=t).getAttribute("data-foxentry-element"),i=c.hasOwnProperty(n)?c[n]:null,(t=FoxentryElements[n].values).length<2||(n=t[t.length-2].trim(),t=t[t.length-1].trim(),n.indexOf("@")<0||t.indexOf("@")<0||(n=n.split("@"),t=t.split("@"),!1===i?a="invalidToValid":!0===i&&(a="validToValid"),""!==n[1]&&""!==t[1]&&n[0]===t[0]&&n[1]!==t[1]&&function(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var n=new Array,r=0;r<=e.length;r++){for(var o,i=r,a=0;a<=t.length;a++)0==r?n[a]=a:0<a&&(o=n[a-1],e.charAt(r-1)!=t.charAt(a-1)&&(o=Math.min(Math.min(o,i),n[a])+1),n[a-1]=i,i=o);0<r&&(n[t.length]=i)}return n[t.length]}(n[1],t[1])<=4&&l.eventsLogger.addEvent("emailDomainFixed",r,{valueFrom:n[1],valueTo:t[1],validityChange:a})))),c[o]=e.data.valid,d=!1}function a(e){l.usedHint=!1;var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;t.parentNode.querySelector(".foxentry-hints-holder")&&(document.querySelector(".foxentry-hints-holder").outerHTML=""),13==e.which?y():l.isIE()||l.isMsEdge()||function(e){if(!(l.projectTestRun()||u.options.hasOwnProperty("allowWhisper")&&!1===l.toBool(u.options.allowWhisper))){var t=l.getInputValue(e);if(0==t.length||t.indexOf("@")<0)return f(e);var n=t.split("@")[1];if(n.length<1)return f(e);var r,o=["seznam.cz","gmail.com","centrum.cz","email.cz","post.cz","outlook.com","yahoo.com","hotmail.com","yandex.com"],i=null;for(n=n.toLowerCase(),r=0;r<o.length;r++)if(o[r].length>n.length&&o[r].substr(0,n.length)==n){i=o[r];break}null!==i?function(e,t,n){var r=window.getComputedStyle(e),o=window.getComputedStyle(e.parentNode),i=e.getAttribute("data-foxentry-element"),a=function(e){var t='<span class="foxentry-email-domain-hint-helper">'+l.getInputValue(e)+"</span>";e.insertAdjacentHTML("afterEnd",t);var n,r,o=window.getComputedStyle(e),t=e.parentNode.querySelector(".foxentry-email-domain-hint-helper");if("string"==typeof o.getPropertyValue("cssText")&&""!==o.getPropertyValue("cssText"))var i=o.cssText;else{var a={};for(n in o)isNaN(n)&&""!==(r=o.getPropertyValue(n))&&(a[n]=r);i="";for(n in a)i+=n+":"+a[n]+";"}t.style.cssText=i,t.classList.add("foxentry-animation-off"),t.style.width="auto",t.style.paddingRight=0,t.style.display="inline-block",t.style.boxSizing="border-box";e=t.offsetWidth;return t.outerHTML="",e}(e),t=t.substr(n.length),n=document.querySelector(".foxentry-email-domain-hint-"+i);if(t.length<1)return n.outerHtml="";n?(n.innerText=t,n.setAttribute("data-hint",t)):(s='<span class="foxentry-email-domain-hint foxentry-email-domain-hint-'+i+'" data-hint="'+t+'" data-element-code="'+i+'">'+t+"</span>",e.parentNode.insertAdjacentHTML("beforeEnd",s),n=document.querySelector(".foxentry-email-domain-hint-"+i)),"static"==o.position&&(e.parentNode.style.position="relative");var s=l.getElementOffsets(e),i=e.offsetTop;o=(o=e.offsetLeft)+a-r.borderLeftWidth.replace("px",""),n.style.fontFamily=r.fontFamily,n.style.fontSize=r.fontSize,n.style.height=s.h+"px",n.style.lineHeight=s.h+"px",n.style.paddingTop=0,n.style.display="inline-block",n.style.left=o+"px",n.style.top=i+"px",l.eventsLogger.addEvent("emailDomainHintShow",e)}(e,i,n):f(e)}}(t)}function s(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;l.usedHint||(""===l.getInputValue(t)||"@"==l.getInputValue(t)?(e=l.getInputForm(t))&&l.formValidator(e):o(t))}function f(e){e=e.getAttribute("data-foxentry-element"),e=document.querySelector(".foxentry-email-domain-hint-"+e);e&&(e.outerHTML="")}function y(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;var n=t.getAttribute("data-foxentry-element"),r=document.querySelector(".foxentry-email-domain-hint-"+n);r&&(e=r.getAttribute("data-hint"),n=l.getInputValue(t),l.getInputValue(t).indexOf(e)<0&&(l.setInputValue(t,n+e),l.eventsLogger.addEvent("emailDomainHintUsed",t)),r.outerHTML="")}return{isValid:function(e){return void 0===e&&(e=0),0<(e=l.get_elements_by_type(["email"],e)).length&&e[0].parentNode.classList.contains("foxentry-input-valid")},validate:function(e,t,n){if(l.projectHasReachedPlanLimit("emailValidations"))return!1;(t={query:{email:e=e.trim()},options:t=l.mergeCustomRequestOptionsWithProjectOptions("email",t)}).options.jsApiCall=!0,l.apiCall("email/validate","POST",t,null,null,n)},initInputEvents:function(e,t){!0===t?(e.addEventListener("keyup",a),e.addEventListener("change",s),e.addEventListener("blur",y)):(e.removeEventListener("keyup",a),e.removeEventListener("change",s),e.removeEventListener("blur",y))},inputValidationFailure:function(e){d=!1}}},FoxentryNameValidator=function(d){"use strict";var c=FoxentryConfig.name;function n(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;var n=t.getAttribute("data-foxentry-name-index"),r=t.getAttribute("data-foxentry-name-datatype");if(d.inputChangeEventProgress("name_"+r,n))return!1;d.inputChangeEventProgress("name_"+r,n,!0),t.classList.remove("foxentry-hint-used"),""!==d.getInputValue(t)||(e=d.getInputForm(t))&&d.formValidator(e),o(t),d.inputChangeEventProgress("name_"+r,n,!1)}function r(e){if((e=e||window.event).target.classList.contains("foxentry-triggering-events"))return!1;d.usedHint=!1}function a(e){var t=(n=(e=e||window.event).target.classList.contains("foxentry-input-msg")?e.target:d.getParent(e.target,"foxentry-input-msg")).getAttribute("data-element-code"),e=d.getInputByCode(t),t=n.getAttribute("data-value"),n=d.getValuesBeforeValidation("name",e.getAttribute("data-foxentry-name-index"));d.setInputValue(e,t),e.classList.add("foxentry-hint-used"),d.eventsLogger.addEvent("hintUsed",e,{value:t}),d.usedHint=!0,d.removeInputMsg(e,!0),o(e,n)}function o(e,t){var n,r,o,i,a,s,l,u;d.projectHasReachedPlanLimit("nameValidations")||e.disabled||e.readOnly&&!d.isFoxentryReadOnly(e)||(n=e.getAttribute("data-foxentry-name-datatype"),r=d.getInputValue(e),o=e.getAttribute("data-foxentry-name-index"),i=!1===e.classList.contains("foxentry-hint-used"),a=d.getValidatorOptions("name",o),l=d.getElementsByType("name",["name","surname","nameSurname"],o),s=d.getInputsValues("name",l),l=e.getAttribute("data-foxentry-element"),""!=r&&("name"==n?u={query:{name:{value:r,helper:s},altsHint:i},options:a}:"surname"==n?u={query:{surname:{value:r,helper:s},altsHint:i},options:a}:"nameSurname"==n&&(u={query:{nameSurname:{value:r,helper:s},altsHint:i},options:a}),void 0===t&&(t=d.getValuesBeforeValidation("name",o)),u.helpers={usedHint:d.usedHint,inputingSession:d.inputingSessions[l],valuesBeforeValidation:t},t=d.handleValidationEventType(e),d.eventsLogger.addEvent(t,e,{query:u.query}),u.events=d.eventsLogger.getEventsToSave(),u.validator={type:"name",index:o},d.apiCall("names/validate","POST",u,p,e,c.options.callback)))}function p(e,t){var n,r,e=d.getJSON(e),o=t.getAttribute("data-foxentry-name-datatype"),i=t.getAttribute("data-foxentry-name-index");e&&((n=e.data[o]).valid?(d.markInput(t,"valid","name"),d.removeInputMsg(t),e=o,r=t,d.saveData("name",{type:e,value:d.getInputValue(r)}),d.fillData("name",i,n.data,[o,"vocative"+d.ucfirst(o),"genderName"])):(r=d.toBool(c.data[i].options.validityRequired)?"error":"warning",d.markInput(t,r,"name"),n.hasOwnProperty("msg")&&d.setInputMsg(t,r,n.msg.text),d.fillData("name",i,n.data,[o,"vocative"+d.ucfirst(o)])),o=t,!(t=n).hasOwnProperty("hint")||(n=d.setInputMsg(o,"warning",t.hint.output))&&(n.classList.add("foxentry-simple-hint-msg"),n.setAttribute("data-value",t.hint.value),n.addEventListener("click",a),d.markInput(o,"hint","name"),d.eventsLogger.addEvent("hintCreated",o,{hint:{value:t.hint.value}})))}function t(e,t){void 0===t&&(t=0);t=d.getElementsByType([e],t);return 0<t.length&&t[0].parentNode.classList.contains("foxentry-input-valid")}return{initInputEvents:function(e,t){!0===t?(e.addEventListener("change",n),e.addEventListener("keyup",r)):(e.removeEventListener("change",n),e.removeEventListener("keyup",r))},validate:function(e,t,n){if(d.projectHasReachedPlanLimit("nameValidations"))return!1;(t={query:e,options:t=d.mergeCustomRequestOptionsWithProjectOptions("name",t)}).options.jsApiCall=!0,d.apiCall("names/validate","POST",t,null,null,n)},validName:function(e){return t("name",e)},validSurname:function(e){return t("surname",e)}}},FoxentryPhoneValidator=function(l){"use strict";var u=FoxentryConfig.phone;function e(e){if(!(e=l.getJSON(e)))return!1;var t=document.createElement("div");t.setAttribute("class","foxentry-hints-holder foxentry-results-phonePrefix"),t.setAttribute("data-input-datatype","phonePrefix"),t.setAttribute("data-input-index",0),t.innerHTML=e.data.html,document.body.appendChild(t),t.addEventListener("click",function(e){var e=e||window.event,t=l.getParent(e.target,"foxentry-hint"),n=l.getParent(t,"foxentry-results-phonePrefix"),r=t.getAttribute("data-value"),e=n.getAttribute("data-input-datatype"),t=n.getAttribute("data-input-index"),e=l.getElementsByType("phone",[e],t)[0];l.setInputValue(e,r),l.eventsLogger.addEvent("hintUsed",e,{value:r}),n.classList.remove("foxentry-visible");t=l.getElementsByType("phone",["phoneNumber"],t);0<t.length&&(""!==l.getInputValue(t[0])&&o(t[0]),t[0].focus())}.bind(this))}function n(e){var t=(e=e||window.event).target,e=l.getInputValue(t);""!==e&&function(e){var t=document.querySelector(".foxentry-results-phonePrefix");if(t)for(var n=t.querySelectorAll(".foxentry-hint"),r=0;r<n.length;r++)if(e==n[r].getAttribute("data-value"))return 1}(e)||s(t)}function s(e){var t,n;"SELECT"==e.tagName||(t=document.querySelector(".foxentry-results-phonePrefix"))&&(n=l.calculateHintsHolderPosition(e),t.style.left=n.left+"px",t.style.top=n.top+"px",t.classList.add("foxentry-visible"),e=e.getAttribute("data-foxentry-phone-index"),t.setAttribute("data-input-index",e))}function r(e){var t=(e=e||window.event).target;if("SELECT"==t.tagName||void 0===e.which)return!1;s(t);var n=l.getInputValue(t);""!=n&&"+"==n.substr(0,1)||(n="+"+n);e=document.querySelector(".foxentry-results-phonePrefix");if(!e)return!1;var r,o,i,a=e.querySelectorAll(".foxentry-hint");for(!1===e.classList.contains("foxentry-visible")&&s(t),r=0;r<a.length;r++)n==(o=a[r]).getAttribute("data-value").substr(0,n.length)||"+"===n||""===n?(o.style.display="block","http"!==(i=o.querySelector("img")).getAttribute("src").substr(0,4)&&i.setAttribute("src",l.cdnUrl+"/svg/flags/"+o.getAttribute("data-image"))):o.style.display="none"}function o(e){if(l.projectHasReachedPlanLimit("phoneValidations"))l.disableShoptetValidation(e,!1);else if(!(e.disabled||e.readOnly&&!l.isFoxentryReadOnly(e))){var t=e.getAttribute("data-foxentry-phone-datatype"),n=e.getAttribute("data-foxentry-phone-index"),r="",o="",i=(u.data[n].options.validation,u.data[n].options.defaultPrefix,u.data[n].options.defaultPrefixFillInput,l.getElementsByType("phone",["phonePrefix"],n)),a=l.getElementsByType("phone",["phoneNumber"],n);if(0<i.length?(r=l.getInputValue(i[0]),""!==(r=!1!==(s=l.getJSON(r))?s.hasOwnProperty("phoneCode")?s.phoneCode:"":r)&&"+"!==r.substr(0,1)&&(r="+"+r)):r="",0<a.length){var o=l.getInputValue(a[0]),s=l.handleValidationEventType(e);if("autoValidation"!==s||!1!==function(e){for(var t=e.split(""),n=0,r=0,o=0;o<t.length;o++)-1!=="0123456789".indexOf(t[o])?r++:n++;return n<r}(o)){if(0<i.length){if(""===o)return}else{if(""===o)return l.clearInputMarkings(a[0]),void l.removeInputMsg(a[0]);if("+420"===o||"+421"===o)return l.removeInputMsg(a[0]),void(l.toBool(u.data[n].options.validityRequired)?l.markInput(a[0],"error"):l.markInput(a[0],"warning"))}"phonePrefix"!==t&&l.markInput(e,"loading","phone");t=l.getValuesBeforeValidation("phone",n),t={query:{phoneNumber:o,phonePrefix:r},options:l.getValidatorOptions("phone",n),helpers:{valuesBeforeValidation:t}};l.eventsLogger.addEvent(s,e,{query:t.query}),t.events=l.eventsLogger.getEventsToSave(),t.validator={type:"phone",index:n},l.apiCall("phone/validate","POST",t,d,e,u.options.callback)}}}}function d(e,t){if(!(e=l.getJSON(e)))return!1;var n,r,o=t.getAttribute("data-foxentry-phone-index"),i=l.getElementsByType("phone",["phone","phoneNumber","phonePrefix"],o);l.removeInputMsgForInputs(i),!0===e.data.valid?(l.markInputs(i,"valid","phone"),r=(r=e.data.data.format.international).split(" ").join(""),l.saveData("phone",{value:r}),l.fillData("phone",o,e.data.data)):(n=t.getAttribute("data-foxentry-phone-datatype"),o=t.getAttribute("data-foxentry-phone-index"),u.data[o],l.getElementsByType("phone",["phonePrefix"],o),e.data.hasOwnProperty("data")&&l.fillData("phone",o,e.data.data),e.data.hasOwnProperty("msg")&&(r=l.toBool(u.data[o].options.validityRequired)?"error":"warning","phonePrefix"===n?(o=l.getElementsByType("phone",["phone","phoneNumber"],o),l.setInputMsg(o[0],r,e.data.msg.text)):l.setInputMsg(t,r,e.data.msg.text),l.markInputs(i,r,"phone")))}function i(e){var t=(e=e||window.event).target;if(t.classList.contains("foxentry-triggering-events"))return!1;var n,r=l.getInputValue(t);""!==r?(n=t.getAttribute("data-foxentry-phone-datatype"),e=t.getAttribute("data-foxentry-phone-index"),e=l.getElementsByType("phone",["phonePrefix"],e),"phonePrefix"==n&&"INPUT"==t.tagName&&"+"!==r.substr(0,1)&&l.setInputValue(t,"+"+r),r=l.getInputValue(t),0<e.length&&"phoneNumber"==n&&"0"==r.substr(0,1)&&l.setInputValue(t,r.substr(1)),o(t)):(t=l.getInputForm(t))&&l.formValidator(t)}function a(e){if((e=e||window.event).target.classList.contains("foxentry-triggering-events"))return!1;var t=e.key;void 0!==t&&!1===/^(?=.*\d)[\d ]+$/.test(t)&&" "!=t&&"+"!=t&&"Backspace"!=t&&"v"!=t&&"c"!=t&&"pampala.cz"!==window.location.host&&e.preventDefault()}return{initInputEvents:function(e,t){!0===t?(e.addEventListener("change",i),e.addEventListener("ShoptetPhoneCodeChange",i),e.addEventListener("keypress",a),e.classList.contains("foxentry-input-phone-phonePrefix")&&(e.addEventListener("focusin",n),e.addEventListener("keyup",r))):(e.removeEventListener("change",i),e.removeEventListener("ShoptetPhoneCodeChange",i),e.removeEventListener("keypress",a),e.classList.contains("foxentry-input-phone-phonePrefix")&&(e.removeEventListener("focusin",n),e.removeEventListener("keyup",r)))},isValid:function(e){void 0===e&&(e=0);var t,n=l.getElementsByType("phone",["phone","phoneNumber","phonePrefix"],e);if(0<n.length){for(e=0;e<n.length;e++)if((t=n[e]).parentNode.classList.contains("foxentry-input-invalid")||t.parentNode.classList.contains("foxentry-input-warning")||""==l.getInputValue(t))return!1;return!0}return!1},validate:function(e,t,n,r){if(l.projectHasReachedPlanLimit("phoneValidations"))return!1;(n={query:{phoneNumber:e,phonePrefix:t},options:n=l.mergeCustomRequestOptionsWithProjectOptions("phone",n)}).options.jsApiCall=!0,l.apiCall("phone/validate","POST",n,null,null,r)},getPrefixSelectHtml:function(){if(l.projectHasReachedPlanLimit("phoneValidations"))return!1;document.querySelector(".foxentry-results-phonePrefix")||l.apiCall("phone/prefixSelectorHtml","POST",{query:{}},e)}}},FoxentryBuilderLib=function(){"use strict";function s(e){var t=function(e){for(var t in FoxentryElements)if(FoxentryElements[t].selector==e)return t;return!1}(e.selector);return!1===t&&(t=Math.random().toString(36).substr(2,10),FoxentryElements[t]=e),t}function l(e,t,n){void 0===n&&(n=!0);for(var r=FoxentryConfig[e].data,o=0;o<r.length;o++)if(r[o].name===t)return n?o:r[o];return null}function u(e){if(void 0===e)return null;var t=e.match(/\[(\d+)\]/);if(null===(t=t?(e=e.replace(t[0],""),t[1]-1):null))return document.querySelector(e);e=document.querySelectorAll(e);return 0<e.length?e[t]:null}function i(e,t,n,r){var o=l(e,t),i=r.element;r.selector=r.element;var a=u(r.element),t=function(e){if(e){var t,n,r=!1;for(t in FoxentryElements)if(n=FoxentryElements[t],n.element&&n.element===e){r=t;break}return r}return!1}(a);r.elementCode=!1===t?s({selector:i,element:a}):t,delete r.element,"input"==n?FoxentryConfig[e].data[o].mappings.inputs.push(r):"output"==n&&FoxentryConfig[e].data[o].mappings.outputs.push(r)}function n(e,t){var n;"function"==typeof t&&(n="callback",t=t,FoxentryConfig[e].options[n]=t)}function r(e,t){"function"==typeof t&&(FoxentryConfig.callbacks[e]=t)}return{validatorAdd:function(e,t){t={name:t,mappings:{inputs:[],outputs:[]},options:{}},FoxentryConfig[e].data.push(t)},validatorRemove:function(e,t){t=l(e,t),FoxentryConfig[e].data.splice(t,1)},validatorMappingAdd:i,validatorMappingsAdd:function(e,t,n,r){for(var o=0;o<n.length;o++)i(e,t,"input",n[o]);for(o=0;o<r.length;o++)i(e,t,"output",r[o])},validatorMappingRemove:function(e,t,n){l(e,t);for(var r=FoxentryConfig[e].data[o],o=0;o<r.mappings.length;o++)if(r.mappings[o].element==n)return r.mappings.splice(o,1),!0;return!1},validatorSetOptions:function(e,t,n){t=l(e,t),FoxentryConfig[e].data[t].options=n},rebuildElements:function(){for(var e in FoxentryElements)FoxentryElements[e].element=u(FoxentryElements[e].selector)},setCallback:n,setCallbacks:function(e){for(var t in e)n(t,e[t])},setGlobalCallback:r,setGlobalCallbacks:function(e){for(var t in e)r(t,e[t])},setOption:function(e,t){FoxentryConfig.options[e]=t}}},FoxentryBuilder=new FoxentryBuilderLib,FoxentryEventsLogger=function(i){"use strict";var a=[],t=0,n=i.getRandomString(40);function r(){t=a.length}return{addEvent:function(e,t,n){var r,o;if(o=(n=void 0===n?{}:n).hasOwnProperty("elementInputCodes")?(r=n.validatorType,{inputCodes:n.elementInputCodes}):t instanceof Element?(r=i.getInputValidatorType(t),{name:t.getAttribute("name"),dataType:i.getInputDatatype(t)}):(r=null,{}),"input"==e){t=0<a.length?a[a.length-1]:null;if(t&&t.type==e)return!0}a.push({code:i.getRandomString(40),validatorType:r,type:e,elementData:o,eventData:n,dateTime:Date.now()})},getEvents:function(){return a},saveEvents:function(){if(console.warn("Save events:",a),t===a.length)return!0;var e={session:n,events:a,navigator:{userAgent:navigator.userAgent}};a=[],i.apiCall("usage/events/save","POST",e,r)},getEventsToSave:function(){var e={project:FOXENTRY_PROJECT,session:n,list:JSON.parse(JSON.stringify(a)),navigator:{userAgent:navigator.userAgent}};return a=[],e},getSessionCode:function(){return n}}},FoxentryUserDataHelper=function(t){var n,e=!1,r=!1,o=FOXENTRY_API_DOMAIN+"/user",i=null,a={},s={},r=function(){n.contentWindow.postMessage(JSON.stringify({type:"getUserActivityCode"}),FOXENTRY_API_DOMAIN)};function l(e){"api.foxentry.cz"===e.origin.substr(-15,15)&&!1!==(e=t.getJSON(e.data))&&!1!==e.hasOwnProperty("type")&&("userActivityCode"===e.type?u(e.data):"userDataSuggestion"===e.type&&function(e){if(a.hasOwnProperty(e.callbackType)){var t;for(type in(0,a[e.callbackType])(e.data),e.data.suggestions)null!==(t=e.data.suggestions[type])&&(s[type]=t);console.warn(s)}}(e.data))}function u(e){i=e}return{init:function(){!void(e||(n=document.createElement("iframe"),window.addEventListener?(n.addEventListener("load",function(){r()},!1),window.addEventListener("message",function(e){l(e)},!1)):n.attachEvent&&(n.attachEvent("onload",function(){r()},!1),window.attachEvent("onmessage",function(e){l(e)})),n.setAttribute("title","Foxentry"),n.src=o,n.style.cssText="position:absolute;width:1px;height:1px;left:-9999px;display:none",document.body.appendChild(n),e=!0))},handle:function(e){e.userCode=i,e.clientToken=FoxentryClientToken,n.contentWindow.postMessage(JSON.stringify(e),FOXENTRY_API_DOMAIN)},getUserActivityCode:function(){return i},setUserActivityCode:u,suggestUserData:function(e,t){"object"!=typeof e&&(e=[e]),a.userDataSuggestion=t,n.contentWindow.postMessage(JSON.stringify({type:"suggestUserData",data:{suggestionTypes:e,callbackType:"userDataSuggestion",project:FOXENTRY_PROJECT}}),FOXENTRY_API_DOMAIN)},getSuggestedUserData:function(e){return s.hasOwnProperty(e)?s[e]:null}}},FoxentryDataHandler=function(n){"use strict";return{suggestUserData:function(e,t){n.apiCall("data/user/suggest","POST",{suggestionTypes:e},null,null,t)}}};function userAddressSuggestionHandler(e){console.warn(e)}var FoxentryGeoLocator=function(t){"use strict";function e(e){console.warn(e),t.apiCall("data/user/geolocation","POST",{gps:{lat:e.coords.latitude,lon:e.coords.longitude,accuracy:e.coords.accuracy}},{main:n})}function n(e){(e=t.getJSON(e)).hasOwnProperty("location")?(console.warn(e.location),t.setInputValue(document.querySelector("#street_with_number"),e.location.streetWithNumber),t.setInputValue(document.querySelector("#city"),e.location.city),t.setInputValue(document.querySelector("#postal"),e.location.zip),t.triggerEvent(document.querySelector("#street_with_number"),"change",!0)):console.warn(e)}function r(e){alert("Chyba pri geolokalizaci")}return{getUserLocation:function(){if(!navigator.geolocation)return null;navigator.geolocation.getCurrentPosition(e,r)}}},FoxentryUsageLoggerHandler=function(t){"use strict";return{saveHintUsage:function(e){t.apiCall("usage/hint","POST",e)}}},FoxentryCacher=function(e){var i="foxentryCache___",a={};function n(){try{return window.localStorage.setItem("foxentryCacher",!0),window.localStorage.removeItem("foxentryCacher"),1}catch(e){return}}function r(){return e.developerMode()||FoxentryConfig.options.hasOwnProperty("cacheResponses")&&!1===FoxentryConfig.options.cacheResponses}function o(e){return(e=JSON.parse(JSON.stringify(e))).parameters.hasOwnProperty("userCode")&&delete e.parameters.userCode,e.parameters.hasOwnProperty("session")&&delete e.parameters.session,e.parameters.hasOwnProperty("helpers")&&(e.parameters.helpers.hasOwnProperty("inputingSession")&&delete e.parameters.helpers.inputingSession,e.parameters.helpers.hasOwnProperty("valuesBeforeValidation")&&delete e.parameters.helpers.valuesBeforeValidation),e.parameters.hasOwnProperty("events")&&delete e.parameters.events,e}return function(){for(var e,t,n=new Date/1e3-3600,r=Object.keys(window.localStorage),o=0;o<r.length;o++)r[o].substr(0,i.length)===i&&((t=JSON.parse(window.localStorage.getItem(r[o]))).cachedAt<n?(window.localStorage.removeItem(r[o]),e=JSON.stringify(t.request),a.hasOwnProperty(e)&&delete a[e]):a[JSON.stringify(t.request)]=t)}(),{cacheResponse:function(e,t){return!!n()&&(r()?null:void 0!==window.localStorage&&("usage"!==e.endpoint.substr(0,5)&&(t={response:t,request:e=o(e),cachedAt:new Date/1e3},a[JSON.stringify(e)]=t,window.localStorage.setItem(i+function(){if(window.crypto&&window.crypto.randomUUID)return window.crypto.randomUUID();for(var e,t="";t+=(e=Math.random()).toString(16).slice(3,9),t.length<30;);return t.slice(0,8)+"-"+t.slice(8,12)+"-4"+t.slice(12,15)+"-"+(8+(4*e|0)).toString(16)+t.slice(15,18)+"-"+t.slice(18,30)}(),JSON.stringify(t)),!0)))},getCachedResponse:function(e){if(!n())return null;if(r())return null;e=o(e);var t=a[JSON.stringify(e)]||null;return null===t?null:(e=new Date/1e3,t.cachedAt<e-3600?null:t.response)}}},FoxentryWhisper=function(o){"use strict";function i(){return!!FoxentryConfig.options.hasOwnProperty("whisperAdBox")&&(!0===FoxentryConfig.options.whisperAdBox||"true"===FoxentryConfig.options.whisperAdBox)}function r(e){if(0===e.querySelectorAll(".foxentry-whisper-item").length)return!1;e.classList.add("foxentry-active"),e.querySelector(".foxentry-form-fake").classList.remove("foxentry-active"),e.querySelector(".foxentry-form-content").classList.add("foxentry-active")}function a(e){return e.classList.contains("foxentry-active")}return{buildHtml:function(){var e,t,n,r=[];for(r.push('<div class="foxentry-form-whisper foxentry-hints-holder-new foxentry-whisper-items-holder">'),r.push('<div class="foxentry-form-content"></div>'),r.push('<div class="foxentry-form-fake foxentry-active">'),e=0;e<7;e++)r.push((t=void 0,(t=[]).push('<div class="foxentry-form-whisper__line">'),t.push('<div class="foxentry-form-whisper__row">'),t.push('<div class="foxentry-form-whisper__flag"><div class="foxentry-fake-flag"></div></div>'),t.push('<div class="foxentry-form-whisper__name">'),t.push('<div class="foxentry-fake-block foxentry-w-66"></div>'),t.push("</div>"),t.push('<div class="foxentry-form-whisper__place">'),t.push('<div class="foxentry-fake-block foxentry-w-21"></div>'),t.push('<div class="foxentry-fake-block foxentry-w-48"></div>'),t.push("</div>"),t.push("</div>"),t.push("</div>"),t.join("\n")));return r.push("</div>"),i()&&r.push(((n=[]).push('<div class="foxentry-form-whisper__banner">'),n.push('<div class="foxentry-banner">'),n.push('<div class="foxentry-banner__text">'+FoxentryMessages["whisper.banner.footer"]+"</div>"),n.push('<div class="foxentry-banner__logo">'),n.push('<img src="https://cdn.foxentry.cz/svg/logo.svg" alt="Foxentry" title="Foxentry.cz - Data bez datlování">'),n.push("</div>"),n.push("</div>"),n.push("</div>"),n.join(""))),r.push("</div>"),r.join("\n")},buildResultItemHtml:function(e,t){var n=[],r=e.hintValue;return n.push('<div class="foxentry-form-whisper__row">'),n.push('<div class="foxentry-form-whisper__flag"><img src="'+o.cdnUrl+"/svg/flags/whisper/"+e.resultCountry+'.svg" alt="sk" style="width: 12px"></div>'),n.push('<div class="foxentry-form-whisper__name">'),n.push("<span>"+r+"</span>"),n.push("</div>"),"streetWithNumber"===t&&n.push('<div class="foxentry-form-whisper__place">'+e.hintDetail+"</div>"),n.push("</div>"),n.join("")},buildCompanyResultItemHtml:function(e,t){var n=[];return e.hintValue,n.push('<div class="foxentry-form-whisper__row foxentry-row-top">'),n.push('<div class="foxentry-form-whisper__flag"><img src="'+o.cdnUrl+"/svg/flags/whisper/"+e.resultCountry+'.svg" alt="sk" style="width: 12px"></div>'),n.push('<div class="foxentry-form-whisper__name">'),n.push("<span>"+e.data.name+"</span>"),n.push('<span class="foxentry-ico">'+t.registrationNumber+": "+e.data.registrationNumber+"</span>"),n.push("</div>"),n.push('<div class="foxentry-form-whisper__place">'),n.push(e.data.address.streetWithNumber+", "+e.data.formatted.address.city),n.push("</div>"),n.push("</div>"),n.join("")},displayAdBox:i,show:function(e,t){if(a(t))return!0;var n=o.getRect(e);if(t.style.top=n.top+"px",t.style.left=n.left+"px",t.style.width="auto",t.style.minWidth=n.width+"px",2<e.value.length)return!1;r(t)},showContent:r,scrollContentTop:function(e){e.querySelector(".foxentry-form-content").scrollTop=0},isVisible:a,isContentVisible:function(e){return e.querySelector(".foxentry-form-content").classList.contains("foxentry-active")},hide:function(e){e.classList.remove("foxentry-active"),e.querySelector(".foxentry-form-content").classList.remove("foxentry-active"),e.querySelector(".foxentry-form-fake").classList.remove("foxentry-active")}}},FoxentryUserActivity=function(e){"use strict";var r=[];function t(){!function(){var e,t=document.querySelectorAll(".foxentry-input");for(e=0;e<t.length;e++)n(t[e],"keyup",o)}()}function n(e,t,n){e.addEventListener(t,n)}function o(e){i("inputKeyUp",{input:e.target,key:e.key})}function i(e,t){var n={};n.type=e,t.hasOwnProperty("input")&&(t.input="INPUT"!==(e=t.input).tagName?null:function(e){var t,n,r,o=e.getAttributeNames(),i={};for(t=0;t<o.length;t++)"datatype"===(n=o[t]).substr(-8,8)&&(r=n.replace("data-foxentry-","").replace("-datatype",""),i[r]={datatype:e.getAttribute(n),index:e.getAttribute("data-foxentry-"+r+"-index")});return i}(e)),n.data=t,n.timestamp=Date.now(),console.warn("add activity",n),r.push(n)}function a(){var e,t,n=[];for(e in r)!1===(t=r[e]).hasOwnProperty("status")&&((n[e]=t).status="saving");0<n.length&&console.warn("SAVING ACTIVITIES",n)}return{init:function(){t(),setInterval(a,5e3)},addActivity:i,validationEvent:function(e,t,n){i("validation",{validator:e,request:t,response:n})}}};
