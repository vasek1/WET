var e=Number(shoptet.abilities.about.id),i=!1;4!==e&&5!==e||(i=!0);var a=!1;6===e&&(a=!0);var t=!1;10===e&&(t=!0);var n=!1;13!==e&&14!==e||(n=!0);var s=![8,7].includes(e);function action_price_plus_products(){$(".products:not(.products-top) .product:not(.action-plus-done)").each((function(){action_price_plus($(this),"product")})),document.dispatchEvent(new Event("ActionPriceDone_products"))}function action_price_plus(s,p){if(n)$("<div class='flags-extra'><div class='flag-discount action_price_plus'></div></div>").appendTo(s.find(".prices")),s.find(".price-standard:first").appendTo(s.find(".action_price_plus")),s.find(".price-save:first").appendTo(s.find(".action_price_plus"));else if(t)if("detail"===p)if($("<div class='flags-extra'><div class='flag-discount action_price_plus'></div></div>").appendTo(s),$("<span class='price-standard'>"+text_trimmer(s.find(".price-standard"))+"</span>").appendTo(s.find(".action_price_plus")),s.find(".p-info-wrapper .price-save>.default-variant").length){var r=text_trimmer(s.find(".price-save>.default-variant"));price_save_split=r.split(" "),price_save_split.length>=3&&(r=r.replace(price_save_split[0],""),price_save_parts=r.trim().split(" "),r=price_save_parts[0]+" -"+price_save_parts[1]+" "+price_save_parts[2],$("<span class='price-save'>"+r+"</span>").appendTo(s.find(".action_price_plus")))}else{r=s.find(".price-save:first");$("<span class='price-save'>-"+text_trimmer(r).replace(/[^0-9.,]+/g,"")+" %</span>").appendTo(s.find(".action_price_plus"))}else $("<div class='flags-extra'><div class='flag-discount action_price_plus'></div></div>").appendTo(s.find(".prices")),$("<span class='price-standard'>"+text_trimmer(s.find(".price-standard"))+"</span>").appendTo(s.find(".action_price_plus")),$("<span class='price-save'>"+text_trimmer(s.find(".save-percent"))+"</span>").appendTo(s.find(".action_price_plus"));else if(i||a){if("detail"===p)$("<div class='flags-extra'><div class='flag-discount action_price_plus'></div></div>").appendTo(s),$("<span class='price-standard'>"+s.find(".td-normal-price>span:not(.noDisplay)").text()+"</span>").appendTo(s.find(".action_price_plus")),!1===(d=text_trimmer(s.find(".td-save-price>span:not(.noDisplay)"))).includes("%")&&(d=text_trimmer(s.find(".td-save-price"))),price_before_old_split=a?d.split("–"):d.split("("),price_before_old_split.length>1&&(d="–"+price_before_old_split[1].replace("(","").replace(")","").replace("–",""),$("<span class='price-save'>"+d+"</span>").appendTo(s.find(".action_price_plus")));else if(i){$("<div class='flags-extra'><div class='flag-discount action_price_plus'></div></div>").appendTo(s.find(".p-standard-price")),$("<span class='price-standard'>"+s.find(".p-standard-price .line").text()+"</span>").appendTo(s.find(".action_price_plus"));var d=s.find(".p-det-discount").text();price_before_old_split=d.split("("),price_before_old_split.length>1&&(d=price_before_old_split[1].replace("(","").replace(")",""),$("<span class='price-save'>"+d+"</span>").appendTo(s.find(".action_price_plus")))}else a&&($("<div class='flags-extra'><div class='flag-discount action_price_plus'></div></div>").appendTo(s.find(".p-det-main-price")),$("<span class='price-standard'>"+text_trimmer(s.find(".pr-list-standard-price"))+"</span>").appendTo(s.find(".action_price_plus")),$("<span class='price-save'>"+text_trimmer(s.find(".pr-list-det-discount"))+"</span>").appendTo(s.find(".action_price_plus")))}else $(".tursky-apollo").length&&"detail"===p&&$(".flag-discount .price-save").each((function(){if($(this).find(".default-variant").length){var e=(i=(i=$(this).find(".default-variant").text()).replace("%"," %")).split("-");e.length>1&&(i=e[0].trim()+" -"+e[1]),$(this).text(i)}else{var i;i=(i=$(this).text()).replace("%"," %"),$(this).text(i)}}));var l=s.find(".flags-extra:first .flag-discount");if(l.length){var c=l.find(".price-standard");l.find(".price-standard:first").length<=0&&s.addClass("no-price-standard"),c=c.find(".default-variant").length?text_trimmer(c.find(">.default-variant")):text_trimmer(l.find(".price-standard:first"));var o=l.find(".price-save:first");o=o.find(".default-variant").length?text_trimmer(o.find(">.default-variant")):text_trimmer(o),"detail"===p&&$(l).find(">span>span:not(.default-variant)").remove();var f=text_trimmer(l).replace(c,"").replace(o,""),_=(f=f.replace(/\s+/g," ").trim()).split(" ");if(2===_.length?f=_[1]:i?f="detail"===p?(s.find(".td-save-price>span:not(.noDisplay)")[0]?.textContent.trim().split(/\s+/)[0]||"").replace(/[^\w]/g,"").match(/^\D/)?RegExp.lastMatch:"":(s.find(".p-det-discount")[0]?.textContent.trim().split(/\s+/)[0]||"").replace(/[^\w]/g,"").match(/^\D/)?RegExp.lastMatch:"":t&&s.closest(".products").hasClass("products-inline")&&(f=""),i){m=(m=(v=s.find(".p-main-price")).text().trim()).replace("","");var u=v.find("small");m="<span>"+m+"</span>"}else if(a){m=(m=(v=s.find(".pr-list-det-main-price")).text().trim()).replace("","");u=v.find("small");m="<span>"+m+"</span>"}else{var v=s.find(".price.price-final");if(t&&s.closest(".products").hasClass("products-inline"))var m=v.find("strong");else m=v.find("strong>span");u=v.find("small")}if(m.length){m=text_trimmer(m);var g=text_trimmer(v);g=g.replace(m,"").trim()}else g=u.length?text_trimmer(u):"";var h=f+" "+o;if(function(n,s,p){var r="";if(9===e){var d="flag-wrap",l="flag-wrap";c="detail"===p?"p-image":"inner"}else if(i){d="boolean-icons",l="boolean-icons";c="detail"===p?"product-images>div:first":"p-image",r="bool-icon-single"}else if(a){d="pr-list-flag-wrap",l="pr-list-flag-wrap large-4 medium-4 small-3";"detail"===p?(d="product-detail-flag-icons",c="product-detail-name-wrap"):c="pr-list-image",r="pr-list-flag"}else{var c;d="flags-default",l="flags flags-default";"detail"===p?11===e?(c="p-image",l="flags flags-default flags-inline"):c="p-image":c="image",t&&(d="flags",c="p-image")}var o=n.find("."+d);o.length>0||(11===e&&"detail"===p?$("<div class='"+l+"'>").prependTo(n.find("."+c)):i&&"detail"===p?$("<div class='"+l+"'>").prependTo(n.find("#"+c)):a&&"detail"===p?$("<div class='"+l+"'>").prependTo("#"+c):$("<div class='"+l+"'>").appendTo(n.find("."+c)));""!==s.trim()&&(a&&"detail"===p?$("<span class='flag flag-action-percentage "+r+"'>"+s+"</span>").appendTo("#product-detail-h1 ."+d):$("<span class='flag flag-action-percentage "+r+"'>"+s+"</span>").appendTo(n.find("."+d)))}(s,h=h.replaceAll("(","").replaceAll(")",""),p),"product"===p){if("hu"===getShoptetDataLayer().language)var x=c+g;else x=g+" "+c;5===e?v=s.find(".p-main-price>*:first"):6===e&&(v=s.find(".pr-list-det-main-price")),function(e,i){$(".tursky-apollo").length||$(".shoptetak-celestin").length||$(".shoptak-titan").length||$(".shoptak-dolomit").length||$(".shoptetak-pearl").length||$("<div class='price-additional p-additional-price price-action-before'>"+e+"</div>").insertBefore(i)}(x,v)}}s.addClass("action-plus-done"),document.dispatchEvent(new Event("dmActionPricePlusDone"))}function text_trimmer(e){return $(e).text().trim()}$(document).ready((function(){s&&(!function(){if("productDetail"===getShoptetDataLayer().pageType){if(n||t)var e=$(".p-detail-inner");else if(i)e=$("#t-product-detail");else if(a)e=$("#product-detail-form");else e=$(".product-top");action_price_plus(e,"detail"),document.dispatchEvent(new Event("ActionPriceDone_detail"))}}(),action_price_plus_products(),"undefined"!=typeof shoptetakNaniteSettings&&$("body").addClass("nanite"))})),document.addEventListener("dmproductsDone",(function(){s&&action_price_plus_products()})),document.addEventListener("ShoptetDOMContentLoaded",(function(){s&&action_price_plus_products()}));