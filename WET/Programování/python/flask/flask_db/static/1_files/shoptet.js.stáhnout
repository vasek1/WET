!function a(o,s,r){function i(e,t){if(!s[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(p)return p(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=s[e]={exports:{}},o[e][0].call(n.exports,function(t){return i(o[e][1][t]||t)},n,n.exports,a,o,s,r)}return s[e].exports}for(var p="function"==typeof require&&require,t=0;t<r.length;t++)i(r[t]);return i}({1:[function(t,e,n){var a=t("./shoptet/consents"),o=t("./shoptet/cart");t("./shoptet/variables")(),a(),o()},{"./shoptet/cart":2,"./shoptet/consents":3,"./shoptet/variables":4}],2:[function(t,e,n){const o=window.SmartsuppIntegrationConfig||{};function a(){var t=getShoptetDataLayer();const e=t.language,n=t.currency,a=t.cart;smartsupp(function(){$.ajax(o.apiBaseUrl+"/widget/event/cart-updated?eshopId="+o.eshopId+"&visitorId="+(smartsupp.vid||""),{type:"POST",contentType:"text/plain",data:JSON.stringify({language:e,currency:n,items:a}),success:function(){smartsupp("variables",{shoptet_cart_updated_at:(new Date).toISOString()})}}).fail(t=>{console.log("Smartsupp: request failure:",t.message)})})}e.exports=()=>{document.addEventListener("ShoptetDataLayerUpdated",function(){a()}),a()}},{}],3:[function(t,e,n){function a(){var t=dataLayer.find(function(t){return!!t.cookie_consent});t&&(smartsupp("analyticsConsent","granted"===t.cookie_consent.analytics),smartsupp("marketingConsent","granted"===t.cookie_consent.marketing))}e.exports=()=>{shoptet.consent.onAccept(function(){a()}),a()}},{}],4:[function(t,e,n){const a=window.SmartsuppIntegrationConfig||{};e.exports=()=>{smartsupp("language",a.language),smartsupp("variables",{shoptet_shop:a.eshopId,shoptet_guid:shoptet.customer.guid,shoptet_user_guid:shoptet.customer.guid||""}),a.visitorIdentification&&shoptet.customer.guid&&$.ajax(a.apiBaseUrl+"/widget/identify?eshopId="+a.eshopId+"&customerId="+shoptet.customer.guid).then(t=>{t.data&&(t.data.name&&smartsupp("name",t.data.name),t.data.email&&smartsupp("email",t.data.email),t.data.phone&&smartsupp("phone",t.data.phone))}).fail(t=>{console.log("Smartsupp identify failure:",t.message)})}},{}]},{},[1]);
